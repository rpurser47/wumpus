"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_src_App_tsx";
exports.ids = ["_pages-dir-node_src_App_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_confetti__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-confetti */ \"react-confetti\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(pages-dir-node)/./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _model_GameModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/GameModel */ \"(pages-dir-node)/./src/model/GameModel.ts\");\n/* harmony import */ var _view_ActionPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./view/ActionPanel */ \"(pages-dir-node)/./src/view/ActionPanel.tsx\");\n/* harmony import */ var _view_CaveMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./view/CaveMap */ \"(pages-dir-node)/./src/view/CaveMap.tsx\");\n/* harmony import */ var _view_MessageLog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./view/MessageLog */ \"(pages-dir-node)/./src/view/MessageLog.tsx\");\n/* harmony import */ var _view_StatusPanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view/StatusPanel */ \"(pages-dir-node)/./src/view/StatusPanel.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_confetti__WEBPACK_IMPORTED_MODULE_2__]);\nreact_confetti__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// App.tsx\n// Controller: Main game state and logic\n\n\n\n\n\n\n\n\n\nfunction App() {\n    // Game model instance\n    const gameModelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new _model_GameModel__WEBPACK_IMPORTED_MODULE_4__.GameModel());\n    // State derived from game model\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(gameModelRef.current.getState());\n    // Audio references\n    const moveSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const shootSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const batSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const pitSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wumpusSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wumpusDiesSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const winSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loseSound = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize audio elements\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"App.useEffect\": ()=>{\n            moveSound.current = new Audio('/sounds/move.wav');\n            shootSound.current = new Audio('/sounds/shoot.wav');\n            batSound.current = new Audio('/sounds/bat.wav');\n            pitSound.current = new Audio('/sounds/pit.wav');\n            wumpusSound.current = new Audio('/sounds/wumpus_eats.wav');\n            wumpusDiesSound.current = new Audio('/sounds/wumpus_dies.wav');\n            winSound.current = new Audio('/sounds/win.mp3'); // Changed to MP3 for better quality\n            loseSound.current = new Audio('/sounds/lose.wav');\n            // Preload sounds\n            const sounds = [\n                moveSound,\n                shootSound,\n                batSound,\n                pitSound,\n                wumpusSound,\n                wumpusDiesSound,\n                winSound,\n                loseSound\n            ];\n            sounds.forEach({\n                \"App.useEffect\": (sound)=>{\n                    if (sound.current) {\n                        sound.current.load();\n                    }\n                }\n            }[\"App.useEffect\"]);\n        }\n    }[\"App.useEffect\"], []);\n    // Play a sound with error handling and 3-second limit\n    const playSound = (sound)=>{\n        if (sound.current) {\n            // Reset playback position\n            sound.current.currentTime = 0;\n            // Play the sound\n            sound.current.play().catch((e)=>console.log('Error playing sound:', e));\n            // Set a timeout to stop the sound after 3 seconds\n            setTimeout(()=>{\n                if (sound.current && !sound.current.paused) {\n                    sound.current.pause();\n                    sound.current.currentTime = 0;\n                }\n            }, 3000);\n        }\n    };\n    // Handle room click for movement or shooting\n    const handleRoomClick = (roomId)=>{\n        console.log(`Room ${roomId + 1} clicked`);\n        const model = gameModelRef.current;\n        const state = model.getState();\n        if (state.shootMode) {\n            console.log(`Shooting at room ${roomId + 1}`);\n            // Handle shooting\n            if (model.isValidShootTarget(roomId)) {\n                model.shootArrow(roomId); // Removed unused messages variable\n                playSound(shootSound);\n                // Check for win/lose conditions after shooting\n                const newState = model.getState();\n                if (newState.gameOver) {\n                    if (newState.win) {\n                        // Play wumpus_dies sound first, then win sound after a short delay\n                        playSound(wumpusDiesSound);\n                        setTimeout(()=>{\n                            playSound(winSound);\n                        }, 1500); // 1.5 second delay\n                    } else {\n                        playSound(loseSound);\n                    }\n                }\n                setGameState({\n                    ...model.getState()\n                });\n            }\n        } else {\n            console.log(`Moving to room ${roomId + 1}`);\n            // Handle movement\n            if (model.isValidMove(roomId)) {\n                model.movePlayer(roomId); // Removed unused messages variable\n                playSound(moveSound);\n                // Check for hazards based on message log\n                const newState = model.getState();\n                const messageLog = newState.messageLog;\n                const recentMessages = messageLog.slice(-3); // Get the most recent messages\n                if (newState.gameOver) {\n                    if (recentMessages.some((msg)=>msg.includes('pit'))) {\n                        playSound(pitSound);\n                    } else if (recentMessages.some((msg)=>msg.includes('Wumpus'))) {\n                        playSound(wumpusSound);\n                    }\n                    playSound(loseSound);\n                } else if (recentMessages.some((msg)=>msg.includes('bats'))) {\n                    playSound(batSound);\n                }\n                setGameState({\n                    ...model.getState()\n                });\n            }\n        }\n    };\n    // Enter move mode\n    const handleMove = ()=>{\n        const model = gameModelRef.current;\n        if (model.getState().shootMode) {\n            model.exitShootMode();\n            setGameState(model.getState());\n        }\n    };\n    // Enter shoot mode\n    const handleShoot = ()=>{\n        const model = gameModelRef.current;\n        model.enterShootMode(); // Removed unused messages variable\n        setGameState(model.getState());\n    };\n    // Restart the game\n    const handleRestart = ()=>{\n        const model = gameModelRef.current;\n        model.resetGame();\n        setGameState(model.getState());\n    };\n    // Get window dimensions for confetti\n    const [windowDimensions, setWindowDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    // Initialize window dimensions after component mounts (client-side only)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"App.useEffect\": ()=>{\n            // Update dimensions initially\n            setWindowDimensions({\n                width: window.innerWidth,\n                height: window.innerHeight\n            });\n            // Update window dimensions when the window is resized\n            const handleResize = {\n                \"App.useEffect.handleResize\": ()=>{\n                    setWindowDimensions({\n                        width: window.innerWidth,\n                        height: window.innerHeight\n                    });\n                }\n            }[\"App.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            return ({\n                \"App.useEffect\": ()=>window.removeEventListener('resize', handleResize)\n            })[\"App.useEffect\"];\n        }\n    }[\"App.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"App\",\n        style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            overflow: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '20px 0'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    height: '100%',\n                    width: '100%',\n                    overflow: 'hidden',\n                    zIndex: -1,\n                    top: 0,\n                    left: 0\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    src: \"/cave-bg.jpg\",\n                    alt: \"Cave background\",\n                    fill: true,\n                    style: {\n                        objectFit: 'cover',\n                        objectPosition: 'center'\n                    },\n                    priority: true\n                }, void 0, false, {\n                    fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                    lineNumber: 199,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                lineNumber: 190,\n                columnNumber: 7\n            }, this),\n            gameState.win && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_confetti__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                width: windowDimensions.width,\n                height: windowDimensions.height,\n                recycle: false,\n                numberOfPieces: 500,\n                gravity: 0.2,\n                colors: [\n                    '#f44336',\n                    '#e91e63',\n                    '#9c27b0',\n                    '#673ab7',\n                    '#3f51b5',\n                    '#2196f3',\n                    '#03a9f4',\n                    '#00bcd4',\n                    '#009688',\n                    '#4CAF50',\n                    '#8BC34A',\n                    '#CDDC39',\n                    '#FFEB3B',\n                    '#FFC107',\n                    '#FF9800',\n                    '#FF5722'\n                ]\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                lineNumber: 212,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"game-title\",\n                children: \"Hunt the Wumpus\"\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                lineNumber: 221,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: 'flex',\n                    gap: '20px',\n                    maxWidth: '900px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: 'relative',\n                            width: 520,\n                            height: 520,\n                            background: 'rgba(255,255,255,0.85)',\n                            borderRadius: 12,\n                            boxShadow: '0 4px 24px rgba(0,0,0,0.3)'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_view_CaveMap__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            rooms: gameState.rooms,\n                            playerRoom: gameState.player.room,\n                            shootMode: gameState.shootMode,\n                            onRoomClick: handleRoomClick\n                        }, void 0, false, {\n                            fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                            lineNumber: 226,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: 'flex',\n                            flexDirection: 'column',\n                            width: '300px'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_view_StatusPanel__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                arrows: gameState.player.arrows,\n                                playerRoom: gameState.player.room,\n                                gameOver: gameState.gameOver,\n                                win: gameState.win,\n                                shootMode: gameState.shootMode\n                            }, void 0, false, {\n                                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_view_ActionPanel__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                canMove: !gameState.gameOver,\n                                canShoot: !gameState.gameOver && gameState.player.arrows > 0,\n                                shootMode: gameState.shootMode,\n                                onMove: handleMove,\n                                onShoot: handleShoot,\n                                onRestart: handleRestart\n                            }, void 0, false, {\n                                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_view_MessageLog__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                messages: gameState.messageLog\n                            }, void 0, false, {\n                                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n                lineNumber: 223,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\App.tsx\",\n        lineNumber: 176,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RCQyxZQUFZN0YsVUFBVThGLE1BQU0sQ0FBQ0MsSUFBSTs0QkFDakNoRSxXQUFXL0IsVUFBVStCLFNBQVM7NEJBQzlCaUUsYUFBYXJFOzs7Ozs7Ozs7OztrQ0FLakIsOERBQUNrQzt3QkFBSUUsT0FBTzs0QkFBRU8sU0FBUzs0QkFBUUMsZUFBZTs0QkFBVWxCLE9BQU87d0JBQVE7OzBDQUNyRSw4REFBQ3hELHlEQUFXQTtnQ0FDVm9HLFFBQVFqRyxVQUFVOEYsTUFBTSxDQUFDRyxNQUFNO2dDQUMvQkosWUFBWTdGLFVBQVU4RixNQUFNLENBQUNDLElBQUk7Z0NBQ2pDNUQsVUFBVW5DLFVBQVVtQyxRQUFRO2dDQUM1QkMsS0FBS3BDLFVBQVVvQyxHQUFHO2dDQUNsQkwsV0FBVy9CLFVBQVUrQixTQUFTOzs7Ozs7MENBRWhDLDhEQUFDckMseURBQVdBO2dDQUNWd0csU0FBUyxDQUFDbEcsVUFBVW1DLFFBQVE7Z0NBQzVCZ0UsVUFBVSxDQUFDbkcsVUFBVW1DLFFBQVEsSUFBSW5DLFVBQVU4RixNQUFNLENBQUNHLE1BQU0sR0FBRztnQ0FDM0RsRSxXQUFXL0IsVUFBVStCLFNBQVM7Z0NBQzlCcUUsUUFBUXZEO2dDQUNSd0QsU0FBU3REO2dDQUNUdUQsV0FBV3JEOzs7Ozs7MENBRWIsOERBQUNyRCx3REFBVUE7Z0NBQUMyRyxVQUFVdkcsVUFBVXVDLFVBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtwRDtBQUVBLGlFQUFlekMsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsiRDpcXGxvY2FsUHJvamVjdHNcXHd1bXB1c1xcc3JjXFxBcHAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFwcC50c3hcbi8vIENvbnRyb2xsZXI6IE1haW4gZ2FtZSBzdGF0ZSBhbmQgbG9naWNcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29uZmV0dGkgZnJvbSAncmVhY3QtY29uZmV0dGknO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5pbXBvcnQgeyBHYW1lTW9kZWwsIEdhbWVTdGF0ZSB9IGZyb20gJy4vbW9kZWwvR2FtZU1vZGVsJztcbmltcG9ydCBBY3Rpb25QYW5lbCBmcm9tICcuL3ZpZXcvQWN0aW9uUGFuZWwnO1xuaW1wb3J0IENhdmVNYXAgZnJvbSAnLi92aWV3L0NhdmVNYXAnO1xuaW1wb3J0IE1lc3NhZ2VMb2cgZnJvbSAnLi92aWV3L01lc3NhZ2VMb2cnO1xuaW1wb3J0IFN0YXR1c1BhbmVsIGZyb20gJy4vdmlldy9TdGF0dXNQYW5lbCc7XG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgLy8gR2FtZSBtb2RlbCBpbnN0YW5jZVxuICBjb25zdCBnYW1lTW9kZWxSZWYgPSB1c2VSZWY8R2FtZU1vZGVsPihuZXcgR2FtZU1vZGVsKCkpO1xuICBcbiAgLy8gU3RhdGUgZGVyaXZlZCBmcm9tIGdhbWUgbW9kZWxcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0ZT4oZ2FtZU1vZGVsUmVmLmN1cnJlbnQuZ2V0U3RhdGUoKSk7XG4gIFxuICAvLyBBdWRpbyByZWZlcmVuY2VzXG4gIGNvbnN0IG1vdmVTb3VuZCA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNob290U291bmQgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBiYXRTb3VuZCA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHBpdFNvdW5kID0gdXNlUmVmPEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgd3VtcHVzU291bmQgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCB3dW1wdXNEaWVzU291bmQgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCB3aW5Tb3VuZCA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxvc2VTb3VuZCA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBJbml0aWFsaXplIGF1ZGlvIGVsZW1lbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbW92ZVNvdW5kLmN1cnJlbnQgPSBuZXcgQXVkaW8oJy9zb3VuZHMvbW92ZS53YXYnKTtcbiAgICBzaG9vdFNvdW5kLmN1cnJlbnQgPSBuZXcgQXVkaW8oJy9zb3VuZHMvc2hvb3Qud2F2Jyk7XG4gICAgYmF0U291bmQuY3VycmVudCA9IG5ldyBBdWRpbygnL3NvdW5kcy9iYXQud2F2Jyk7XG4gICAgcGl0U291bmQuY3VycmVudCA9IG5ldyBBdWRpbygnL3NvdW5kcy9waXQud2F2Jyk7XG4gICAgd3VtcHVzU291bmQuY3VycmVudCA9IG5ldyBBdWRpbygnL3NvdW5kcy93dW1wdXNfZWF0cy53YXYnKTtcbiAgICB3dW1wdXNEaWVzU291bmQuY3VycmVudCA9IG5ldyBBdWRpbygnL3NvdW5kcy93dW1wdXNfZGllcy53YXYnKTtcbiAgICB3aW5Tb3VuZC5jdXJyZW50ID0gbmV3IEF1ZGlvKCcvc291bmRzL3dpbi5tcDMnKTsgLy8gQ2hhbmdlZCB0byBNUDMgZm9yIGJldHRlciBxdWFsaXR5XG4gICAgbG9zZVNvdW5kLmN1cnJlbnQgPSBuZXcgQXVkaW8oJy9zb3VuZHMvbG9zZS53YXYnKTtcbiAgICBcbiAgICAvLyBQcmVsb2FkIHNvdW5kc1xuICAgIGNvbnN0IHNvdW5kcyA9IFttb3ZlU291bmQsIHNob290U291bmQsIGJhdFNvdW5kLCBwaXRTb3VuZCwgd3VtcHVzU291bmQsIHd1bXB1c0RpZXNTb3VuZCwgd2luU291bmQsIGxvc2VTb3VuZF07XG4gICAgc291bmRzLmZvckVhY2goc291bmQgPT4ge1xuICAgICAgaWYgKHNvdW5kLmN1cnJlbnQpIHtcbiAgICAgICAgc291bmQuY3VycmVudC5sb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgXG4gIC8vIFBsYXkgYSBzb3VuZCB3aXRoIGVycm9yIGhhbmRsaW5nIGFuZCAzLXNlY29uZCBsaW1pdFxuICBjb25zdCBwbGF5U291bmQgPSAoc291bmQ6IFJlYWN0LlJlZk9iamVjdDxIVE1MQXVkaW9FbGVtZW50PikgPT4ge1xuICAgIGlmIChzb3VuZC5jdXJyZW50KSB7XG4gICAgICAvLyBSZXNldCBwbGF5YmFjayBwb3NpdGlvblxuICAgICAgc291bmQuY3VycmVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICBcbiAgICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgICBzb3VuZC5jdXJyZW50LnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUubG9nKCdFcnJvciBwbGF5aW5nIHNvdW5kOicsIGUpKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGEgdGltZW91dCB0byBzdG9wIHRoZSBzb3VuZCBhZnRlciAzIHNlY29uZHNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc291bmQuY3VycmVudCAmJiAhc291bmQuY3VycmVudC5wYXVzZWQpIHtcbiAgICAgICAgICBzb3VuZC5jdXJyZW50LnBhdXNlKCk7XG4gICAgICAgICAgc291bmQuY3VycmVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSByb29tIGNsaWNrIGZvciBtb3ZlbWVudCBvciBzaG9vdGluZ1xuICBjb25zdCBoYW5kbGVSb29tQ2xpY2sgPSAocm9vbUlkOiBudW1iZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgUm9vbSAke3Jvb21JZCArIDF9IGNsaWNrZWRgKTtcbiAgICBjb25zdCBtb2RlbCA9IGdhbWVNb2RlbFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHN0YXRlID0gbW9kZWwuZ2V0U3RhdGUoKTtcbiAgICBcbiAgICBpZiAoc3RhdGUuc2hvb3RNb2RlKSB7XG4gICAgICBjb25zb2xlLmxvZyhgU2hvb3RpbmcgYXQgcm9vbSAke3Jvb21JZCArIDF9YCk7XG4gICAgICAvLyBIYW5kbGUgc2hvb3RpbmdcbiAgICAgIGlmIChtb2RlbC5pc1ZhbGlkU2hvb3RUYXJnZXQocm9vbUlkKSkge1xuICAgICAgICBtb2RlbC5zaG9vdEFycm93KHJvb21JZCk7IC8vIFJlbW92ZWQgdW51c2VkIG1lc3NhZ2VzIHZhcmlhYmxlXG4gICAgICAgIHBsYXlTb3VuZChzaG9vdFNvdW5kKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciB3aW4vbG9zZSBjb25kaXRpb25zIGFmdGVyIHNob290aW5nXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gbW9kZWwuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKG5ld1N0YXRlLmdhbWVPdmVyKSB7XG4gICAgICAgICAgaWYgKG5ld1N0YXRlLndpbikge1xuICAgICAgICAgICAgLy8gUGxheSB3dW1wdXNfZGllcyBzb3VuZCBmaXJzdCwgdGhlbiB3aW4gc291bmQgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgICAgICAgICAgcGxheVNvdW5kKHd1bXB1c0RpZXNTb3VuZCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcGxheVNvdW5kKHdpblNvdW5kKTtcbiAgICAgICAgICAgIH0sIDE1MDApOyAvLyAxLjUgc2Vjb25kIGRlbGF5XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsYXlTb3VuZChsb3NlU291bmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0R2FtZVN0YXRlKHsuLi5tb2RlbC5nZXRTdGF0ZSgpfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBNb3ZpbmcgdG8gcm9vbSAke3Jvb21JZCArIDF9YCk7XG4gICAgICAvLyBIYW5kbGUgbW92ZW1lbnRcbiAgICAgIGlmIChtb2RlbC5pc1ZhbGlkTW92ZShyb29tSWQpKSB7XG4gICAgICAgIG1vZGVsLm1vdmVQbGF5ZXIocm9vbUlkKTsgLy8gUmVtb3ZlZCB1bnVzZWQgbWVzc2FnZXMgdmFyaWFibGVcbiAgICAgICAgcGxheVNvdW5kKG1vdmVTb3VuZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgaGF6YXJkcyBiYXNlZCBvbiBtZXNzYWdlIGxvZ1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IG1vZGVsLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMb2cgPSBuZXdTdGF0ZS5tZXNzYWdlTG9nO1xuICAgICAgICBjb25zdCByZWNlbnRNZXNzYWdlcyA9IG1lc3NhZ2VMb2cuc2xpY2UoLTMpOyAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IG1lc3NhZ2VzXG4gICAgICAgIFxuICAgICAgICBpZiAobmV3U3RhdGUuZ2FtZU92ZXIpIHtcbiAgICAgICAgICBpZiAocmVjZW50TWVzc2FnZXMuc29tZShtc2cgPT4gbXNnLmluY2x1ZGVzKCdwaXQnKSkpIHtcbiAgICAgICAgICAgIHBsYXlTb3VuZChwaXRTb3VuZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWNlbnRNZXNzYWdlcy5zb21lKG1zZyA9PiBtc2cuaW5jbHVkZXMoJ1d1bXB1cycpKSkge1xuICAgICAgICAgICAgcGxheVNvdW5kKHd1bXB1c1NvdW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGxheVNvdW5kKGxvc2VTb3VuZCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZW50TWVzc2FnZXMuc29tZShtc2cgPT4gbXNnLmluY2x1ZGVzKCdiYXRzJykpKSB7XG4gICAgICAgICAgcGxheVNvdW5kKGJhdFNvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0R2FtZVN0YXRlKHsuLi5tb2RlbC5nZXRTdGF0ZSgpfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRW50ZXIgbW92ZSBtb2RlXG4gIGNvbnN0IGhhbmRsZU1vdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSBnYW1lTW9kZWxSZWYuY3VycmVudDtcbiAgICBpZiAobW9kZWwuZ2V0U3RhdGUoKS5zaG9vdE1vZGUpIHtcbiAgICAgIG1vZGVsLmV4aXRTaG9vdE1vZGUoKTtcbiAgICAgIHNldEdhbWVTdGF0ZShtb2RlbC5nZXRTdGF0ZSgpKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBFbnRlciBzaG9vdCBtb2RlXG4gIGNvbnN0IGhhbmRsZVNob290ID0gKCkgPT4ge1xuICAgIGNvbnN0IG1vZGVsID0gZ2FtZU1vZGVsUmVmLmN1cnJlbnQ7XG4gICAgbW9kZWwuZW50ZXJTaG9vdE1vZGUoKTsgLy8gUmVtb3ZlZCB1bnVzZWQgbWVzc2FnZXMgdmFyaWFibGVcbiAgICBzZXRHYW1lU3RhdGUobW9kZWwuZ2V0U3RhdGUoKSk7XG4gIH07XG4gIFxuICAvLyBSZXN0YXJ0IHRoZSBnYW1lXG4gIGNvbnN0IGhhbmRsZVJlc3RhcnQgPSAoKSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSBnYW1lTW9kZWxSZWYuY3VycmVudDtcbiAgICBtb2RlbC5yZXNldEdhbWUoKTtcbiAgICBzZXRHYW1lU3RhdGUobW9kZWwuZ2V0U3RhdGUoKSk7XG4gIH07XG4gIFxuICAvLyBHZXQgd2luZG93IGRpbWVuc2lvbnMgZm9yIGNvbmZldHRpXG4gIGNvbnN0IFt3aW5kb3dEaW1lbnNpb25zLCBzZXRXaW5kb3dEaW1lbnNpb25zXSA9IHVzZVN0YXRlKHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB3aW5kb3cgZGltZW5zaW9ucyBhZnRlciBjb21wb25lbnQgbW91bnRzIChjbGllbnQtc2lkZSBvbmx5KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFVwZGF0ZSBkaW1lbnNpb25zIGluaXRpYWxseVxuICAgIHNldFdpbmRvd0RpbWVuc2lvbnMoe1xuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgd2luZG93IGRpbWVuc2lvbnMgd2hlbiB0aGUgd2luZG93IGlzIHJlc2l6ZWRcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBzZXRXaW5kb3dEaW1lbnNpb25zKHtcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJBcHBcIiBzdHlsZT17e1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLCBcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLCBcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmc6ICcyMHB4IDAnXG4gICAgfX0+XG4gICAgICB7LyogQmFja2dyb3VuZCBpbWFnZSB3aXRoIE5leHQuanMgSW1hZ2UgY29tcG9uZW50ICovfVxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgekluZGV4OiAtMSxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9fT5cbiAgICAgICAgPEltYWdlXG4gICAgICAgICAgc3JjPVwiL2NhdmUtYmcuanBnXCJcbiAgICAgICAgICBhbHQ9XCJDYXZlIGJhY2tncm91bmRcIlxuICAgICAgICAgIGZpbGxcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgICAgb2JqZWN0UG9zaXRpb246ICdjZW50ZXInXG4gICAgICAgICAgfX1cbiAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7LyogU2hvdyBjb25mZXR0aSB3aGVuIHRoZSBwbGF5ZXIgd2lucyAqL31cbiAgICAgIHtnYW1lU3RhdGUud2luICYmIChcbiAgICAgICAgPENvbmZldHRpXG4gICAgICAgICAgd2lkdGg9e3dpbmRvd0RpbWVuc2lvbnMud2lkdGh9XG4gICAgICAgICAgaGVpZ2h0PXt3aW5kb3dEaW1lbnNpb25zLmhlaWdodH1cbiAgICAgICAgICByZWN5Y2xlPXtmYWxzZX1cbiAgICAgICAgICBudW1iZXJPZlBpZWNlcz17NTAwfVxuICAgICAgICAgIGdyYXZpdHk9ezAuMn1cbiAgICAgICAgICBjb2xvcnM9e1snI2Y0NDMzNicsICcjZTkxZTYzJywgJyM5YzI3YjAnLCAnIzY3M2FiNycsICcjM2Y1MWI1JywgJyMyMTk2ZjMnLCAnIzAzYTlmNCcsICcjMDBiY2Q0JywgJyMwMDk2ODgnLCAnIzRDQUY1MCcsICcjOEJDMzRBJywgJyNDRERDMzknLCAnI0ZGRUIzQicsICcjRkZDMTA3JywgJyNGRjk4MDAnLCAnI0ZGNTcyMiddfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJnYW1lLXRpdGxlXCI+SHVudCB0aGUgV3VtcHVzPC9oMT5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzIwcHgnLCBtYXhXaWR0aDogJzkwMHB4JyB9fT5cbiAgICAgICAgey8qIEdhbWUgbWFwIG9uIHRoZSBsZWZ0ICovfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCB3aWR0aDogNTIwLCBoZWlnaHQ6IDUyMCwgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDI1NSwyNTUsMC44NSknLCBib3JkZXJSYWRpdXM6IDEyLCBib3hTaGFkb3c6ICcwIDRweCAyNHB4IHJnYmEoMCwwLDAsMC4zKScgfX0+XG4gICAgICAgICAgPENhdmVNYXAgXG4gICAgICAgICAgICByb29tcz17Z2FtZVN0YXRlLnJvb21zfSBcbiAgICAgICAgICAgIHBsYXllclJvb209e2dhbWVTdGF0ZS5wbGF5ZXIucm9vbX0gXG4gICAgICAgICAgICBzaG9vdE1vZGU9e2dhbWVTdGF0ZS5zaG9vdE1vZGV9XG4gICAgICAgICAgICBvblJvb21DbGljaz17aGFuZGxlUm9vbUNsaWNrfSBcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBDb250cm9scyBhbmQgaW5mbyBvbiB0aGUgcmlnaHQgKi99XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgd2lkdGg6ICczMDBweCcgfX0+XG4gICAgICAgICAgPFN0YXR1c1BhbmVsIFxuICAgICAgICAgICAgYXJyb3dzPXtnYW1lU3RhdGUucGxheWVyLmFycm93c30gXG4gICAgICAgICAgICBwbGF5ZXJSb29tPXtnYW1lU3RhdGUucGxheWVyLnJvb219IFxuICAgICAgICAgICAgZ2FtZU92ZXI9e2dhbWVTdGF0ZS5nYW1lT3Zlcn0gXG4gICAgICAgICAgICB3aW49e2dhbWVTdGF0ZS53aW59IFxuICAgICAgICAgICAgc2hvb3RNb2RlPXtnYW1lU3RhdGUuc2hvb3RNb2RlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEFjdGlvblBhbmVsIFxuICAgICAgICAgICAgY2FuTW92ZT17IWdhbWVTdGF0ZS5nYW1lT3Zlcn0gXG4gICAgICAgICAgICBjYW5TaG9vdD17IWdhbWVTdGF0ZS5nYW1lT3ZlciAmJiBnYW1lU3RhdGUucGxheWVyLmFycm93cyA+IDB9IFxuICAgICAgICAgICAgc2hvb3RNb2RlPXtnYW1lU3RhdGUuc2hvb3RNb2RlfVxuICAgICAgICAgICAgb25Nb3ZlPXtoYW5kbGVNb3ZlfSBcbiAgICAgICAgICAgIG9uU2hvb3Q9e2hhbmRsZVNob290fSBcbiAgICAgICAgICAgIG9uUmVzdGFydD17aGFuZGxlUmVzdGFydH0gXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8TWVzc2FnZUxvZyBtZXNzYWdlcz17Z2FtZVN0YXRlLm1lc3NhZ2VMb2d9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiQ29uZmV0dGkiLCJJbWFnZSIsIkdhbWVNb2RlbCIsIkFjdGlvblBhbmVsIiwiQ2F2ZU1hcCIsIk1lc3NhZ2VMb2ciLCJTdGF0dXNQYW5lbCIsIkFwcCIsImdhbWVNb2RlbFJlZiIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsImN1cnJlbnQiLCJnZXRTdGF0ZSIsIm1vdmVTb3VuZCIsInNob290U291bmQiLCJiYXRTb3VuZCIsInBpdFNvdW5kIiwid3VtcHVzU291bmQiLCJ3dW1wdXNEaWVzU291bmQiLCJ3aW5Tb3VuZCIsImxvc2VTb3VuZCIsIkF1ZGlvIiwic291bmRzIiwiZm9yRWFjaCIsInNvdW5kIiwibG9hZCIsInBsYXlTb3VuZCIsImN1cnJlbnRUaW1lIiwicGxheSIsImNhdGNoIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJzZXRUaW1lb3V0IiwicGF1c2VkIiwicGF1c2UiLCJoYW5kbGVSb29tQ2xpY2siLCJyb29tSWQiLCJtb2RlbCIsInN0YXRlIiwic2hvb3RNb2RlIiwiaXNWYWxpZFNob290VGFyZ2V0Iiwic2hvb3RBcnJvdyIsIm5ld1N0YXRlIiwiZ2FtZU92ZXIiLCJ3aW4iLCJpc1ZhbGlkTW92ZSIsIm1vdmVQbGF5ZXIiLCJtZXNzYWdlTG9nIiwicmVjZW50TWVzc2FnZXMiLCJzbGljZSIsInNvbWUiLCJtc2ciLCJpbmNsdWRlcyIsImhhbmRsZU1vdmUiLCJleGl0U2hvb3RNb2RlIiwiaGFuZGxlU2hvb3QiLCJlbnRlclNob290TW9kZSIsImhhbmRsZVJlc3RhcnQiLCJyZXNldEdhbWUiLCJ3aW5kb3dEaW1lbnNpb25zIiwic2V0V2luZG93RGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaGFuZGxlUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwib3ZlcmZsb3ciLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInBhZGRpbmciLCJ6SW5kZXgiLCJzcmMiLCJhbHQiLCJmaWxsIiwib2JqZWN0Rml0Iiwib2JqZWN0UG9zaXRpb24iLCJwcmlvcml0eSIsInJlY3ljbGUiLCJudW1iZXJPZlBpZWNlcyIsImdyYXZpdHkiLCJjb2xvcnMiLCJoMSIsImdhcCIsIm1heFdpZHRoIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsInJvb21zIiwicGxheWVyUm9vbSIsInBsYXllciIsInJvb20iLCJvblJvb21DbGljayIsImFycm93cyIsImNhbk1vdmUiLCJjYW5TaG9vdCIsIm9uTW92ZSIsIm9uU2hvb3QiLCJvblJlc3RhcnQiLCJtZXNzYWdlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/App.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/model/GameModel.ts":
/*!********************************!*\
  !*** ./src/model/GameModel.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameModel: () => (/* binding */ GameModel),\n/* harmony export */   Hazard: () => (/* binding */ Hazard),\n/* harmony export */   caveLayout: () => (/* binding */ caveLayout)\n/* harmony export */ });\n/* harmony import */ var _services_RandomService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/RandomService */ \"(pages-dir-node)/./src/services/RandomService.ts\");\n// GameModel.ts\n// Model for Hunt the Wumpus game logic and types\n\nvar Hazard = /*#__PURE__*/ function(Hazard) {\n    Hazard[\"None\"] = \"None\";\n    Hazard[\"Wumpus\"] = \"Wumpus\";\n    Hazard[\"Pit\"] = \"Pit\";\n    Hazard[\"Bats\"] = \"Bats\";\n    return Hazard;\n}({});\n// Example cave graph: 16 rooms, irregular connections, positioned for 2D visualization\nconst caveLayout = [\n    {\n        id: 0,\n        x: 100,\n        y: 120,\n        connections: [\n            1,\n            4,\n            5\n        ],\n        hazard: \"None\",\n        description: \"A wide cavern with a high ceiling. Water drips from stalactites above.\"\n    },\n    {\n        id: 1,\n        x: 200,\n        y: 80,\n        connections: [\n            0,\n            2,\n            6\n        ],\n        hazard: \"None\",\n        description: \"A narrow passage with glowing moss on the walls. The air feels damp.\"\n    },\n    {\n        id: 2,\n        x: 320,\n        y: 100,\n        connections: [\n            1,\n            3,\n            7\n        ],\n        hazard: \"None\",\n        description: \"A small chamber with strange crystal formations jutting from the floor.\"\n    },\n    {\n        id: 3,\n        x: 420,\n        y: 160,\n        connections: [\n            2,\n            8,\n            4\n        ],\n        hazard: \"None\",\n        description: \"A large cavern with a small underground stream running through it.\"\n    },\n    {\n        id: 4,\n        x: 380,\n        y: 260,\n        connections: [\n            0,\n            3,\n            9\n        ],\n        hazard: \"None\",\n        description: \"A winding tunnel with ancient carvings on the walls. They seem to tell a story.\"\n    },\n    {\n        id: 5,\n        x: 120,\n        y: 220,\n        connections: [\n            0,\n            6,\n            10\n        ],\n        hazard: \"None\",\n        description: \"A chamber with a low ceiling. You have to stoop to move around.\"\n    },\n    {\n        id: 6,\n        x: 200,\n        y: 200,\n        connections: [\n            1,\n            5,\n            7,\n            11\n        ],\n        hazard: \"None\",\n        description: \"A crossroads of several tunnels. Echoes bounce off the walls from all directions.\"\n    },\n    {\n        id: 7,\n        x: 300,\n        y: 180,\n        connections: [\n            2,\n            6,\n            8,\n            12\n        ],\n        hazard: \"None\",\n        description: \"A room with a small underground pool. The water is crystal clear.\"\n    },\n    {\n        id: 8,\n        x: 400,\n        y: 220,\n        connections: [\n            3,\n            7,\n            9,\n            13\n        ],\n        hazard: \"None\",\n        description: \"A chamber filled with strange mushrooms that give off a faint blue glow.\"\n    },\n    {\n        id: 9,\n        x: 340,\n        y: 320,\n        connections: [\n            4,\n            8,\n            14\n        ],\n        hazard: \"None\",\n        description: \"A vast chamber with towering rock formations like frozen waterfalls.\"\n    },\n    {\n        id: 10,\n        x: 80,\n        y: 320,\n        connections: [\n            5,\n            11,\n            15\n        ],\n        hazard: \"None\",\n        description: \"A small alcove with smooth walls. It feels strangely peaceful here.\"\n    },\n    {\n        id: 11,\n        x: 180,\n        y: 300,\n        connections: [\n            6,\n            10,\n            12\n        ],\n        hazard: \"None\",\n        description: \"A chamber with a floor covered in small, colorful pebbles that crunch underfoot.\"\n    },\n    {\n        id: 12,\n        x: 260,\n        y: 260,\n        connections: [\n            7,\n            11,\n            13\n        ],\n        hazard: \"None\",\n        description: \"A room where the ceiling opens to a natural chimney. A shaft of light filters down.\"\n    },\n    {\n        id: 13,\n        x: 340,\n        y: 240,\n        connections: [\n            8,\n            12,\n            14\n        ],\n        hazard: \"None\",\n        description: \"A chamber with walls that sparkle with embedded minerals. It's quite beautiful.\"\n    },\n    {\n        id: 14,\n        x: 300,\n        y: 360,\n        connections: [\n            9,\n            13,\n            15\n        ],\n        hazard: \"None\",\n        description: \"A large open space with strange rock formations that almost look like furniture.\"\n    },\n    {\n        id: 15,\n        x: 180,\n        y: 380,\n        connections: [\n            10,\n            14\n        ],\n        hazard: \"None\",\n        description: \"A deep chamber with the sound of distant water. Stalactites hang like daggers above.\"\n    }\n];\n// Game initialization and logic\nclass GameModel {\n    constructor(randomService = new _services_RandomService__WEBPACK_IMPORTED_MODULE_0__.DefaultRandomService()){\n        this.INITIAL_ARROWS = 5;\n        this.randomService = randomService;\n        // Initialize with a deep copy of the cave layout\n        const rooms = JSON.parse(JSON.stringify(caveLayout));\n        // Choose a random starting room\n        const startingRoom = this.randomService.getRandomInt(0, rooms.length);\n        this.state = {\n            rooms,\n            player: {\n                room: startingRoom,\n                arrows: this.INITIAL_ARROWS,\n                alive: true\n            },\n            wumpusRoom: -1,\n            batRooms: [],\n            pitRooms: [],\n            gameOver: false,\n            win: false,\n            messageLog: [\n                \"Welcome to Hunt the Wumpus!\",\n                `You begin your adventure in room ${startingRoom + 1}.`\n            ],\n            selectedRoom: null,\n            shootMode: false\n        };\n        this.placeHazards();\n    }\n    // Place hazards randomly in the cave\n    placeHazards() {\n        const availableRooms = Array.from({\n            length: this.state.rooms.length\n        }, (_, i)=>i);\n        // Remove player's starting room from available rooms to ensure safety\n        const playerRoomIndex = availableRooms.indexOf(this.state.player.room);\n        if (playerRoomIndex !== -1) {\n            availableRooms.splice(playerRoomIndex, 1);\n            // Also add the starting room description to the message log\n            const startingRoom = this.state.rooms[this.state.player.room];\n            if (startingRoom.description) {\n                this.addMessage(startingRoom.description);\n            }\n        }\n        // Place Wumpus\n        const wumpusIndex = this.randomService.getRandomInt(0, availableRooms.length);\n        this.state.wumpusRoom = availableRooms[wumpusIndex];\n        this.state.rooms[this.state.wumpusRoom].hazard = \"Wumpus\";\n        availableRooms.splice(wumpusIndex, 1);\n        // Place 2 pits\n        for(let i = 0; i < 2; i++){\n            const pitIndex = this.randomService.getRandomInt(0, availableRooms.length);\n            const pitRoom = availableRooms[pitIndex];\n            this.state.pitRooms.push(pitRoom);\n            this.state.rooms[pitRoom].hazard = \"Pit\";\n            availableRooms.splice(pitIndex, 1);\n        }\n        // Place 2 bat colonies\n        for(let i = 0; i < 2; i++){\n            const batIndex = this.randomService.getRandomInt(0, availableRooms.length);\n            const batRoom = availableRooms[batIndex];\n            this.state.batRooms.push(batRoom);\n            this.state.rooms[batRoom].hazard = \"Bats\";\n            availableRooms.splice(batIndex, 1);\n        }\n        // Add initial hazard warnings\n        this.addHazardWarnings();\n    }\n    // Add warnings about nearby hazards\n    addHazardWarnings() {\n        const currentRoom = this.state.player.room;\n        const adjacentRooms = this.state.rooms[currentRoom].connections;\n        let wumpusNearby = false;\n        let pitNearby = false;\n        let batsNearby = false;\n        for (const roomId of adjacentRooms){\n            const hazard = this.state.rooms[roomId].hazard;\n            if (hazard === \"Wumpus\") wumpusNearby = true;\n            if (hazard === \"Pit\") pitNearby = true;\n            if (hazard === \"Bats\") batsNearby = true;\n        }\n        if (wumpusNearby) this.addMessage(\"You smell a terrible stench...\");\n        if (pitNearby) this.addMessage(\"You feel a cold draft...\");\n        if (batsNearby) this.addMessage(\"You hear rustling...\");\n    }\n    // Add a message to the log\n    addMessage(message) {\n        this.state.messageLog.push(message);\n    }\n    // Get the current game state\n    getState() {\n        return {\n            ...this.state\n        };\n    }\n    // Check if a move to a room is valid\n    isValidMove(targetRoom) {\n        if (this.state.gameOver) return false;\n        if (this.state.shootMode) return false;\n        const currentRoom = this.state.player.room;\n        return this.state.rooms[currentRoom].connections.includes(targetRoom);\n    }\n    // Move the player to a new room\n    movePlayer(targetRoom) {\n        if (!this.isValidMove(targetRoom)) {\n            return [\n                \"Invalid move!\"\n            ];\n        }\n        this.state.player.room = targetRoom;\n        const room = this.state.rooms[targetRoom];\n        // Create messages array and add them to the message log\n        const messages = [\n            `You move to room ${targetRoom + 1}.`,\n            room.description || \"You enter a cave chamber.\"\n        ];\n        // Add these messages to the state's message log\n        messages.forEach((msg)=>this.addMessage(msg));\n        // Check for hazards\n        const hazard = this.state.rooms[targetRoom].hazard;\n        switch(hazard){\n            case \"Wumpus\":\n                this.state.player.alive = false;\n                this.state.gameOver = true;\n                messages.push(\"OH NO! You walked into the Wumpus's room!\");\n                messages.push(\"The Wumpus devours you. GAME OVER!\");\n                // Add these hazard messages to the log\n                this.addMessage(messages[2]);\n                this.addMessage(messages[3]);\n                break;\n            case \"Pit\":\n                {\n                    this.state.player.alive = false;\n                    this.state.gameOver = true;\n                    messages.push(\"AAAAHHHH! You fell into a bottomless pit!\");\n                    messages.push(\"GAME OVER!\");\n                    // Add these hazard messages to the log\n                    this.addMessage(messages[2]);\n                    this.addMessage(messages[3]);\n                    break;\n                }\n            case \"Bats\":\n                {\n                    const randomRoom = this.randomService.getRandomInt(0, this.state.rooms.length);\n                    this.state.player.room = randomRoom;\n                    messages.push(\"Giant bats swoop down and carry you away!\");\n                    messages.push(`They drop you in room ${randomRoom + 1}.`);\n                    // Add these hazard messages to the log\n                    this.addMessage(messages[2]);\n                    this.addMessage(messages[3]);\n                    // Also add the description of the new room\n                    const newRoom = this.state.rooms[randomRoom];\n                    if (newRoom.description) {\n                        this.addMessage(newRoom.description);\n                        messages.push(newRoom.description);\n                    }\n                    break;\n                }\n        }\n        // Add hazard warnings if player is still alive\n        if (!this.state.gameOver) {\n            this.addHazardWarnings();\n            // Add any warnings to the messages\n            const warnings = this.state.messageLog.slice(-3);\n            messages.push(...warnings);\n        }\n        return messages;\n    }\n    // Enter shoot mode\n    enterShootMode() {\n        if (this.state.gameOver) {\n            this.addMessage(\"Game over!\");\n            return [\n                \"Game over!\"\n            ];\n        }\n        if (this.state.player.arrows <= 0) {\n            this.addMessage(\"You're out of arrows!\");\n            return [\n                \"You're out of arrows!\"\n            ];\n        }\n        this.state.shootMode = true;\n        const message = \"Select a connected room to shoot your arrow into.\";\n        this.addMessage(message);\n        return [\n            message\n        ];\n    }\n    // Exit shoot mode\n    exitShootMode() {\n        this.state.shootMode = false;\n        this.state.selectedRoom = null;\n    }\n    // Check if a room is a valid target for shooting\n    isValidShootTarget(targetRoom) {\n        if (!this.state.shootMode) return false;\n        const currentRoom = this.state.player.room;\n        return this.state.rooms[currentRoom].connections.includes(targetRoom);\n    }\n    // Shoot an arrow\n    shootArrow(targetRoom) {\n        if (!this.isValidShootTarget(targetRoom)) {\n            this.exitShootMode();\n            this.addMessage(\"Invalid target!\");\n            return [\n                \"Invalid target!\"\n            ];\n        }\n        this.state.player.arrows--;\n        this.state.shootMode = false;\n        const messages = [\n            `You shoot an arrow into room ${targetRoom + 1}!`\n        ];\n        this.addMessage(messages[0]);\n        // Check if the Wumpus was hit\n        if (targetRoom === this.state.wumpusRoom) {\n            this.state.win = true;\n            this.state.gameOver = true;\n            messages.push(\"You hear a terrible howl!\");\n            messages.push(\"You have slain the Wumpus! YOU WIN!\");\n            // Add these messages to the log\n            this.addMessage(messages[1]);\n            this.addMessage(messages[2]);\n        } else {\n            messages.push(\"Your arrow disappears into the darkness...\");\n            this.addMessage(messages[1]);\n            // Check if player is out of arrows\n            if (this.state.player.arrows <= 0) {\n                this.state.gameOver = true;\n                messages.push(\"You've used your last arrow!\");\n                messages.push(\"With no way to defend yourself, you flee the cave. GAME OVER!\");\n                // Add these messages to the log\n                this.addMessage(messages[2]);\n                this.addMessage(messages[3]);\n            } else {\n                // 25% chance the Wumpus moves after a missed shot\n                if (this.randomService.random() < 0.25) {\n                    this.moveWumpus();\n                    messages.push(\"You hear movement in the darkness...\");\n                    this.addMessage(messages[2]);\n                    // Check if Wumpus moved into player's room\n                    if (this.state.wumpusRoom === this.state.player.room) {\n                        this.state.player.alive = false;\n                        this.state.gameOver = true;\n                        messages.push(\"The Wumpus was startled by your arrow and moved into your room!\");\n                        messages.push(\"It devours you. GAME OVER!\");\n                        // Add these messages to the log\n                        this.addMessage(messages[3]);\n                        this.addMessage(messages[4]);\n                    }\n                }\n            }\n        }\n        return messages;\n    }\n    // Move the Wumpus to a random adjacent room\n    moveWumpus() {\n        const currentWumpusRoom = this.state.wumpusRoom;\n        const possibleRooms = this.state.rooms[currentWumpusRoom].connections;\n        const newWumpusRoom = this.randomService.getRandomItem(possibleRooms);\n        // Update hazard in old and new room\n        this.state.rooms[currentWumpusRoom].hazard = \"None\";\n        this.state.rooms[newWumpusRoom].hazard = \"Wumpus\";\n        this.state.wumpusRoom = newWumpusRoom;\n    }\n    // Reset the game\n    resetGame() {\n        const rooms = JSON.parse(JSON.stringify(caveLayout));\n        this.state = {\n            rooms,\n            player: {\n                room: 0,\n                arrows: this.INITIAL_ARROWS,\n                alive: true\n            },\n            wumpusRoom: -1,\n            batRooms: [],\n            pitRooms: [],\n            gameOver: false,\n            win: false,\n            messageLog: [\n                \"Game restarted. Good luck!\"\n            ],\n            selectedRoom: null,\n            shootMode: false\n        };\n        this.placeHazards();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9tb2RlbC9HYW1lTW9kZWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGVBQWU7QUFDZixpREFBaUQ7QUFFK0I7QUFFekUsb0NBQUtDOzs7OztXQUFBQTtNQUtYO0FBOEJELHVGQUF1RjtBQUNoRixNQUFNQyxhQUFxQjtJQUNoQztRQUFFQyxJQUFJO1FBQUdDLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxhQUFhO1lBQUM7WUFBRztZQUFHO1NBQUU7UUFBRUMsTUFBTTtRQUFlQyxhQUFhO0lBQXlFO0lBQzVKO1FBQUVMLElBQUk7UUFBR0MsR0FBRztRQUFLQyxHQUFHO1FBQUlDLGFBQWE7WUFBQztZQUFHO1lBQUc7U0FBRTtRQUFFQyxNQUFNO1FBQWVDLGFBQWE7SUFBdUU7SUFDeko7UUFBRUwsSUFBSTtRQUFHQyxHQUFHO1FBQUtDLEdBQUc7UUFBS0MsYUFBYTtZQUFDO1lBQUc7WUFBRztTQUFFO1FBQUVDLE1BQU07UUFBZUMsYUFBYTtJQUEwRTtJQUM3SjtRQUFFTCxJQUFJO1FBQUdDLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxhQUFhO1lBQUM7WUFBRztZQUFHO1NBQUU7UUFBRUMsTUFBTTtRQUFlQyxhQUFhO0lBQXFFO0lBQ3hKO1FBQUVMLElBQUk7UUFBR0MsR0FBRztRQUFLQyxHQUFHO1FBQUtDLGFBQWE7WUFBQztZQUFHO1lBQUc7U0FBRTtRQUFFQyxNQUFNO1FBQWVDLGFBQWE7SUFBa0Y7SUFDcks7UUFBRUwsSUFBSTtRQUFHQyxHQUFHO1FBQUtDLEdBQUc7UUFBS0MsYUFBYTtZQUFDO1lBQUc7WUFBRztTQUFHO1FBQUVDLE1BQU07UUFBZUMsYUFBYTtJQUFrRTtJQUN0SjtRQUFFTCxJQUFJO1FBQUdDLEdBQUc7UUFBS0MsR0FBRztRQUFLQyxhQUFhO1lBQUM7WUFBRztZQUFHO1lBQUc7U0FBRztRQUFFQyxNQUFNO1FBQWVDLGFBQWE7SUFBb0Y7SUFDM0s7UUFBRUwsSUFBSTtRQUFHQyxHQUFHO1FBQUtDLEdBQUc7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QUFLLENBQUNLLFVBQVUsR0FBR29EO0lBQzFCO0lBRUEsaUJBQWlCO0lBQ1ZFLFlBQWtCO1FBQ3ZCLE1BQU1sRSxRQUFRQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQ2Q7UUFFeEMsSUFBSSxDQUFDa0IsS0FBSyxHQUFHO1lBQ1hQO1lBQ0FRLFFBQVE7Z0JBQ05DLE1BQU07Z0JBQ05DLFFBQVEsSUFBSSxDQUFDWCxjQUFjO2dCQUMzQlksT0FBTztZQUNUO1lBQ0FDLFlBQVksQ0FBQztZQUNiQyxVQUFVLEVBQUU7WUFDWkMsVUFBVSxFQUFFO1lBQ1pDLFVBQVU7WUFDVkMsS0FBSztZQUNMQyxZQUFZO2dCQUFDO2FBQTZCO1lBQzFDQyxjQUFjO1lBQ2RDLFdBQVc7UUFDYjtRQUVBLElBQUksQ0FBQ0MsWUFBWTtJQUNuQjtBQUNGIiwic291cmNlcyI6WyJEOlxcbG9jYWxQcm9qZWN0c1xcd3VtcHVzXFxzcmNcXG1vZGVsXFxHYW1lTW9kZWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR2FtZU1vZGVsLnRzXG4vLyBNb2RlbCBmb3IgSHVudCB0aGUgV3VtcHVzIGdhbWUgbG9naWMgYW5kIHR5cGVzXG5cbmltcG9ydCB7IFJhbmRvbVNlcnZpY2UsIERlZmF1bHRSYW5kb21TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvUmFuZG9tU2VydmljZSc7XG5cbmV4cG9ydCBlbnVtIEhhemFyZCB7XG4gIE5vbmUgPSAnTm9uZScsXG4gIFd1bXB1cyA9ICdXdW1wdXMnLFxuICBQaXQgPSAnUGl0JyxcbiAgQmF0cyA9ICdCYXRzJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvb20ge1xuICBpZDogbnVtYmVyO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgY29ubmVjdGlvbnM6IG51bWJlcltdO1xuICBoYXphcmQ6IEhhemFyZDtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyIHtcbiAgcm9vbTogbnVtYmVyO1xuICBhcnJvd3M6IG51bWJlcjtcbiAgYWxpdmU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZVN0YXRlIHtcbiAgcm9vbXM6IFJvb21bXTtcbiAgcGxheWVyOiBQbGF5ZXI7XG4gIHd1bXB1c1Jvb206IG51bWJlcjtcbiAgYmF0Um9vbXM6IG51bWJlcltdO1xuICBwaXRSb29tczogbnVtYmVyW107XG4gIGdhbWVPdmVyOiBib29sZWFuO1xuICB3aW46IGJvb2xlYW47XG4gIG1lc3NhZ2VMb2c6IHN0cmluZ1tdO1xuICBzZWxlY3RlZFJvb206IG51bWJlciB8IG51bGw7IC8vIEZvciBhcnJvdyBzaG9vdGluZ1xuICBzaG9vdE1vZGU6IGJvb2xlYW47IC8vIFdoZXRoZXIgcGxheWVyIGlzIGluIHNob290aW5nIG1vZGVcbn1cblxuLy8gRXhhbXBsZSBjYXZlIGdyYXBoOiAxNiByb29tcywgaXJyZWd1bGFyIGNvbm5lY3Rpb25zLCBwb3NpdGlvbmVkIGZvciAyRCB2aXN1YWxpemF0aW9uXG5leHBvcnQgY29uc3QgY2F2ZUxheW91dDogUm9vbVtdID0gW1xuICB7IGlkOiAwLCB4OiAxMDAsIHk6IDEyMCwgY29ubmVjdGlvbnM6IFsxLCA0LCA1XSwgaGF6YXJkOiBIYXphcmQuTm9uZSwgZGVzY3JpcHRpb246IFwiQSB3aWRlIGNhdmVybiB3aXRoIGEgaGlnaCBjZWlsaW5nLiBXYXRlciBkcmlwcyBmcm9tIHN0YWxhY3RpdGVzIGFib3ZlLlwiIH0sXG4gIHsgaWQ6IDEsIHg6IDIwMCwgeTogODAsIGNvbm5lY3Rpb25zOiBbMCwgMiwgNl0sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgbmFycm93IHBhc3NhZ2Ugd2l0aCBnbG93aW5nIG1vc3Mgb24gdGhlIHdhbGxzLiBUaGUgYWlyIGZlZWxzIGRhbXAuXCIgfSxcbiAgeyBpZDogMiwgeDogMzIwLCB5OiAxMDAsIGNvbm5lY3Rpb25zOiBbMSwgMywgN10sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgc21hbGwgY2hhbWJlciB3aXRoIHN0cmFuZ2UgY3J5c3RhbCBmb3JtYXRpb25zIGp1dHRpbmcgZnJvbSB0aGUgZmxvb3IuXCIgfSxcbiAgeyBpZDogMywgeDogNDIwLCB5OiAxNjAsIGNvbm5lY3Rpb25zOiBbMiwgOCwgNF0sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgbGFyZ2UgY2F2ZXJuIHdpdGggYSBzbWFsbCB1bmRlcmdyb3VuZCBzdHJlYW0gcnVubmluZyB0aHJvdWdoIGl0LlwiIH0sXG4gIHsgaWQ6IDQsIHg6IDM4MCwgeTogMjYwLCBjb25uZWN0aW9uczogWzAsIDMsIDldLCBoYXphcmQ6IEhhemFyZC5Ob25lLCBkZXNjcmlwdGlvbjogXCJBIHdpbmRpbmcgdHVubmVsIHdpdGggYW5jaWVudCBjYXJ2aW5ncyBvbiB0aGUgd2FsbHMuIFRoZXkgc2VlbSB0byB0ZWxsIGEgc3RvcnkuXCIgfSxcbiAgeyBpZDogNSwgeDogMTIwLCB5OiAyMjAsIGNvbm5lY3Rpb25zOiBbMCwgNiwgMTBdLCBoYXphcmQ6IEhhemFyZC5Ob25lLCBkZXNjcmlwdGlvbjogXCJBIGNoYW1iZXIgd2l0aCBhIGxvdyBjZWlsaW5nLiBZb3UgaGF2ZSB0byBzdG9vcCB0byBtb3ZlIGFyb3VuZC5cIiB9LFxuICB7IGlkOiA2LCB4OiAyMDAsIHk6IDIwMCwgY29ubmVjdGlvbnM6IFsxLCA1LCA3LCAxMV0sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgY3Jvc3Nyb2FkcyBvZiBzZXZlcmFsIHR1bm5lbHMuIEVjaG9lcyBib3VuY2Ugb2ZmIHRoZSB3YWxscyBmcm9tIGFsbCBkaXJlY3Rpb25zLlwiIH0sXG4gIHsgaWQ6IDcsIHg6IDMwMCwgeTogMTgwLCBjb25uZWN0aW9uczogWzIsIDYsIDgsIDEyXSwgaGF6YXJkOiBIYXphcmQuTm9uZSwgZGVzY3JpcHRpb246IFwiQSByb29tIHdpdGggYSBzbWFsbCB1bmRlcmdyb3VuZCBwb29sLiBUaGUgd2F0ZXIgaXMgY3J5c3RhbCBjbGVhci5cIiB9LFxuICB7IGlkOiA4LCB4OiA0MDAsIHk6IDIyMCwgY29ubmVjdGlvbnM6IFszLCA3LCA5LCAxM10sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgY2hhbWJlciBmaWxsZWQgd2l0aCBzdHJhbmdlIG11c2hyb29tcyB0aGF0IGdpdmUgb2ZmIGEgZmFpbnQgYmx1ZSBnbG93LlwiIH0sXG4gIHsgaWQ6IDksIHg6IDM0MCwgeTogMzIwLCBjb25uZWN0aW9uczogWzQsIDgsIDE0XSwgaGF6YXJkOiBIYXphcmQuTm9uZSwgZGVzY3JpcHRpb246IFwiQSB2YXN0IGNoYW1iZXIgd2l0aCB0b3dlcmluZyByb2NrIGZvcm1hdGlvbnMgbGlrZSBmcm96ZW4gd2F0ZXJmYWxscy5cIiB9LFxuICB7IGlkOiAxMCwgeDogODAsIHk6IDMyMCwgY29ubmVjdGlvbnM6IFs1LCAxMSwgMTVdLCBoYXphcmQ6IEhhemFyZC5Ob25lLCBkZXNjcmlwdGlvbjogXCJBIHNtYWxsIGFsY292ZSB3aXRoIHNtb290aCB3YWxscy4gSXQgZmVlbHMgc3RyYW5nZWx5IHBlYWNlZnVsIGhlcmUuXCIgfSxcbiAgeyBpZDogMTEsIHg6IDE4MCwgeTogMzAwLCBjb25uZWN0aW9uczogWzYsIDEwLCAxMl0sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgY2hhbWJlciB3aXRoIGEgZmxvb3IgY292ZXJlZCBpbiBzbWFsbCwgY29sb3JmdWwgcGViYmxlcyB0aGF0IGNydW5jaCB1bmRlcmZvb3QuXCIgfSxcbiAgeyBpZDogMTIsIHg6IDI2MCwgeTogMjYwLCBjb25uZWN0aW9uczogWzcsIDExLCAxM10sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgcm9vbSB3aGVyZSB0aGUgY2VpbGluZyBvcGVucyB0byBhIG5hdHVyYWwgY2hpbW5leS4gQSBzaGFmdCBvZiBsaWdodCBmaWx0ZXJzIGRvd24uXCIgfSxcbiAgeyBpZDogMTMsIHg6IDM0MCwgeTogMjQwLCBjb25uZWN0aW9uczogWzgsIDEyLCAxNF0sIGhhemFyZDogSGF6YXJkLk5vbmUsIGRlc2NyaXB0aW9uOiBcIkEgY2hhbWJlciB3aXRoIHdhbGxzIHRoYXQgc3BhcmtsZSB3aXRoIGVtYmVkZGVkIG1pbmVyYWxzLiBJdCdzIHF1aXRlIGJlYXV0aWZ1bC5cIiB9LFxuICB7IGlkOiAxNCwgeDogMzAwLCB5OiAzNjAsIGNvbm5lY3Rpb25zOiBbOSwgMTMsIDE1XSwgaGF6YXJkOiBIYXphcmQuTm9uZSwgZGVzY3JpcHRpb246IFwiQSBsYXJnZSBvcGVuIHNwYWNlIHdpdGggc3RyYW5nZSByb2NrIGZvcm1hdGlvbnMgdGhhdCBhbG1vc3QgbG9vayBsaWtlIGZ1cm5pdHVyZS5cIiB9LFxuICB7IGlkOiAxNSwgeDogMTgwLCB5OiAzODAsIGNvbm5lY3Rpb25zOiBbMTAsIDE0XSwgaGF6YXJkOiBIYXphcmQuTm9uZSwgZGVzY3JpcHRpb246IFwiQSBkZWVwIGNoYW1iZXIgd2l0aCB0aGUgc291bmQgb2YgZGlzdGFudCB3YXRlci4gU3RhbGFjdGl0ZXMgaGFuZyBsaWtlIGRhZ2dlcnMgYWJvdmUuXCIgfVxuXTtcblxuLy8gR2FtZSBpbml0aWFsaXphdGlvbiBhbmQgbG9naWNcbmV4cG9ydCBjbGFzcyBHYW1lTW9kZWwge1xuICBwcml2YXRlIHN0YXRlOiBHYW1lU3RhdGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgSU5JVElBTF9BUlJPV1MgPSA1O1xuICBwcml2YXRlIHJhbmRvbVNlcnZpY2U6IFJhbmRvbVNlcnZpY2U7XG5cbiAgY29uc3RydWN0b3IocmFuZG9tU2VydmljZTogUmFuZG9tU2VydmljZSA9IG5ldyBEZWZhdWx0UmFuZG9tU2VydmljZSgpKSB7XG4gICAgdGhpcy5yYW5kb21TZXJ2aWNlID0gcmFuZG9tU2VydmljZTtcbiAgICAvLyBJbml0aWFsaXplIHdpdGggYSBkZWVwIGNvcHkgb2YgdGhlIGNhdmUgbGF5b3V0XG4gICAgY29uc3Qgcm9vbXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhdmVMYXlvdXQpKSBhcyBSb29tW107XG4gICAgXG4gICAgLy8gQ2hvb3NlIGEgcmFuZG9tIHN0YXJ0aW5nIHJvb21cbiAgICBjb25zdCBzdGFydGluZ1Jvb20gPSB0aGlzLnJhbmRvbVNlcnZpY2UuZ2V0UmFuZG9tSW50KDAsIHJvb21zLmxlbmd0aCk7XG4gICAgXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJvb21zLFxuICAgICAgcGxheWVyOiB7XG4gICAgICAgIHJvb206IHN0YXJ0aW5nUm9vbSwgLy8gU3RhcnQgaW4gYSByYW5kb20gcm9vbVxuICAgICAgICBhcnJvd3M6IHRoaXMuSU5JVElBTF9BUlJPV1MsXG4gICAgICAgIGFsaXZlOiB0cnVlXG4gICAgICB9LFxuICAgICAgd3VtcHVzUm9vbTogLTEsXG4gICAgICBiYXRSb29tczogW10sXG4gICAgICBwaXRSb29tczogW10sXG4gICAgICBnYW1lT3ZlcjogZmFsc2UsXG4gICAgICB3aW46IGZhbHNlLFxuICAgICAgbWVzc2FnZUxvZzogW1wiV2VsY29tZSB0byBIdW50IHRoZSBXdW1wdXMhXCIsIGBZb3UgYmVnaW4geW91ciBhZHZlbnR1cmUgaW4gcm9vbSAke3N0YXJ0aW5nUm9vbSArIDF9LmBdLFxuICAgICAgc2VsZWN0ZWRSb29tOiBudWxsLFxuICAgICAgc2hvb3RNb2RlOiBmYWxzZVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5wbGFjZUhhemFyZHMoKTtcbiAgfVxuXG4gIC8vIFBsYWNlIGhhemFyZHMgcmFuZG9tbHkgaW4gdGhlIGNhdmVcbiAgcHJpdmF0ZSBwbGFjZUhhemFyZHMoKTogdm9pZCB7XG4gICAgY29uc3QgYXZhaWxhYmxlUm9vbXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0aGlzLnN0YXRlLnJvb21zLmxlbmd0aCB9LCAoXywgaSkgPT4gaSk7XG4gICAgXG4gICAgLy8gUmVtb3ZlIHBsYXllcidzIHN0YXJ0aW5nIHJvb20gZnJvbSBhdmFpbGFibGUgcm9vbXMgdG8gZW5zdXJlIHNhZmV0eVxuICAgIGNvbnN0IHBsYXllclJvb21JbmRleCA9IGF2YWlsYWJsZVJvb21zLmluZGV4T2YodGhpcy5zdGF0ZS5wbGF5ZXIucm9vbSk7XG4gICAgaWYgKHBsYXllclJvb21JbmRleCAhPT0gLTEpIHtcbiAgICAgIGF2YWlsYWJsZVJvb21zLnNwbGljZShwbGF5ZXJSb29tSW5kZXgsIDEpO1xuICAgICAgXG4gICAgICAvLyBBbHNvIGFkZCB0aGUgc3RhcnRpbmcgcm9vbSBkZXNjcmlwdGlvbiB0byB0aGUgbWVzc2FnZSBsb2dcbiAgICAgIGNvbnN0IHN0YXJ0aW5nUm9vbSA9IHRoaXMuc3RhdGUucm9vbXNbdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbV07XG4gICAgICBpZiAoc3RhcnRpbmdSb29tLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuYWRkTWVzc2FnZShzdGFydGluZ1Jvb20uZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBQbGFjZSBXdW1wdXNcbiAgICBjb25zdCB3dW1wdXNJbmRleCA9IHRoaXMucmFuZG9tU2VydmljZS5nZXRSYW5kb21JbnQoMCwgYXZhaWxhYmxlUm9vbXMubGVuZ3RoKTtcbiAgICB0aGlzLnN0YXRlLnd1bXB1c1Jvb20gPSBhdmFpbGFibGVSb29tc1t3dW1wdXNJbmRleF07XG4gICAgdGhpcy5zdGF0ZS5yb29tc1t0aGlzLnN0YXRlLnd1bXB1c1Jvb21dLmhhemFyZCA9IEhhemFyZC5XdW1wdXM7XG4gICAgYXZhaWxhYmxlUm9vbXMuc3BsaWNlKHd1bXB1c0luZGV4LCAxKTtcbiAgICBcbiAgICAvLyBQbGFjZSAyIHBpdHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgY29uc3QgcGl0SW5kZXggPSB0aGlzLnJhbmRvbVNlcnZpY2UuZ2V0UmFuZG9tSW50KDAsIGF2YWlsYWJsZVJvb21zLmxlbmd0aCk7XG4gICAgICBjb25zdCBwaXRSb29tID0gYXZhaWxhYmxlUm9vbXNbcGl0SW5kZXhdO1xuICAgICAgdGhpcy5zdGF0ZS5waXRSb29tcy5wdXNoKHBpdFJvb20pO1xuICAgICAgdGhpcy5zdGF0ZS5yb29tc1twaXRSb29tXS5oYXphcmQgPSBIYXphcmQuUGl0O1xuICAgICAgYXZhaWxhYmxlUm9vbXMuc3BsaWNlKHBpdEluZGV4LCAxKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUGxhY2UgMiBiYXQgY29sb25pZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgY29uc3QgYmF0SW5kZXggPSB0aGlzLnJhbmRvbVNlcnZpY2UuZ2V0UmFuZG9tSW50KDAsIGF2YWlsYWJsZVJvb21zLmxlbmd0aCk7XG4gICAgICBjb25zdCBiYXRSb29tID0gYXZhaWxhYmxlUm9vbXNbYmF0SW5kZXhdO1xuICAgICAgdGhpcy5zdGF0ZS5iYXRSb29tcy5wdXNoKGJhdFJvb20pO1xuICAgICAgdGhpcy5zdGF0ZS5yb29tc1tiYXRSb29tXS5oYXphcmQgPSBIYXphcmQuQmF0cztcbiAgICAgIGF2YWlsYWJsZVJvb21zLnNwbGljZShiYXRJbmRleCwgMSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGluaXRpYWwgaGF6YXJkIHdhcm5pbmdzXG4gICAgdGhpcy5hZGRIYXphcmRXYXJuaW5ncygpO1xuICB9XG5cbiAgLy8gQWRkIHdhcm5pbmdzIGFib3V0IG5lYXJieSBoYXphcmRzXG4gIHByaXZhdGUgYWRkSGF6YXJkV2FybmluZ3MoKTogdm9pZCB7XG4gICAgY29uc3QgY3VycmVudFJvb20gPSB0aGlzLnN0YXRlLnBsYXllci5yb29tO1xuICAgIGNvbnN0IGFkamFjZW50Um9vbXMgPSB0aGlzLnN0YXRlLnJvb21zW2N1cnJlbnRSb29tXS5jb25uZWN0aW9ucztcbiAgICBcbiAgICBsZXQgd3VtcHVzTmVhcmJ5ID0gZmFsc2U7XG4gICAgbGV0IHBpdE5lYXJieSA9IGZhbHNlO1xuICAgIGxldCBiYXRzTmVhcmJ5ID0gZmFsc2U7XG4gICAgXG4gICAgZm9yIChjb25zdCByb29tSWQgb2YgYWRqYWNlbnRSb29tcykge1xuICAgICAgY29uc3QgaGF6YXJkID0gdGhpcy5zdGF0ZS5yb29tc1tyb29tSWRdLmhhemFyZDtcbiAgICAgIGlmIChoYXphcmQgPT09IEhhemFyZC5XdW1wdXMpIHd1bXB1c05lYXJieSA9IHRydWU7XG4gICAgICBpZiAoaGF6YXJkID09PSBIYXphcmQuUGl0KSBwaXROZWFyYnkgPSB0cnVlO1xuICAgICAgaWYgKGhhemFyZCA9PT0gSGF6YXJkLkJhdHMpIGJhdHNOZWFyYnkgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBpZiAod3VtcHVzTmVhcmJ5KSB0aGlzLmFkZE1lc3NhZ2UoXCJZb3Ugc21lbGwgYSB0ZXJyaWJsZSBzdGVuY2guLi5cIik7XG4gICAgaWYgKHBpdE5lYXJieSkgdGhpcy5hZGRNZXNzYWdlKFwiWW91IGZlZWwgYSBjb2xkIGRyYWZ0Li4uXCIpO1xuICAgIGlmIChiYXRzTmVhcmJ5KSB0aGlzLmFkZE1lc3NhZ2UoXCJZb3UgaGVhciBydXN0bGluZy4uLlwiKTtcbiAgfVxuXG4gIC8vIEFkZCBhIG1lc3NhZ2UgdG8gdGhlIGxvZ1xuICBwcml2YXRlIGFkZE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5tZXNzYWdlTG9nLnB1c2gobWVzc2FnZSk7XG4gIH1cblxuICAvLyBHZXQgdGhlIGN1cnJlbnQgZ2FtZSBzdGF0ZVxuICBwdWJsaWMgZ2V0U3RhdGUoKTogR2FtZVN0YXRlIHtcbiAgICByZXR1cm4geyAuLi50aGlzLnN0YXRlIH07XG4gIH1cblxuICAvLyBDaGVjayBpZiBhIG1vdmUgdG8gYSByb29tIGlzIHZhbGlkXG4gIHB1YmxpYyBpc1ZhbGlkTW92ZSh0YXJnZXRSb29tOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5nYW1lT3ZlcikgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnN0YXRlLnNob290TW9kZSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRSb29tID0gdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yb29tc1tjdXJyZW50Um9vbV0uY29ubmVjdGlvbnMuaW5jbHVkZXModGFyZ2V0Um9vbSk7XG4gIH1cblxuICAvLyBNb3ZlIHRoZSBwbGF5ZXIgdG8gYSBuZXcgcm9vbVxuICBwdWJsaWMgbW92ZVBsYXllcih0YXJnZXRSb29tOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWRNb3ZlKHRhcmdldFJvb20pKSB7XG4gICAgICByZXR1cm4gW1wiSW52YWxpZCBtb3ZlIVwiXTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbSA9IHRhcmdldFJvb207XG4gICAgY29uc3Qgcm9vbSA9IHRoaXMuc3RhdGUucm9vbXNbdGFyZ2V0Um9vbV07XG4gICAgXG4gICAgLy8gQ3JlYXRlIG1lc3NhZ2VzIGFycmF5IGFuZCBhZGQgdGhlbSB0byB0aGUgbWVzc2FnZSBsb2dcbiAgICBjb25zdCBtZXNzYWdlczogc3RyaW5nW10gPSBbXG4gICAgICBgWW91IG1vdmUgdG8gcm9vbSAke3RhcmdldFJvb20gKyAxfS5gLFxuICAgICAgcm9vbS5kZXNjcmlwdGlvbiB8fCBcIllvdSBlbnRlciBhIGNhdmUgY2hhbWJlci5cIlxuICAgIF07XG4gICAgXG4gICAgLy8gQWRkIHRoZXNlIG1lc3NhZ2VzIHRvIHRoZSBzdGF0ZSdzIG1lc3NhZ2UgbG9nXG4gICAgbWVzc2FnZXMuZm9yRWFjaChtc2cgPT4gdGhpcy5hZGRNZXNzYWdlKG1zZykpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBoYXphcmRzXG4gICAgY29uc3QgaGF6YXJkID0gdGhpcy5zdGF0ZS5yb29tc1t0YXJnZXRSb29tXS5oYXphcmQ7XG4gICAgc3dpdGNoIChoYXphcmQpIHtcbiAgICAgIGNhc2UgSGF6YXJkLld1bXB1czpcbiAgICAgICAgdGhpcy5zdGF0ZS5wbGF5ZXIuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goXCJPSCBOTyEgWW91IHdhbGtlZCBpbnRvIHRoZSBXdW1wdXMncyByb29tIVwiKTtcbiAgICAgICAgbWVzc2FnZXMucHVzaChcIlRoZSBXdW1wdXMgZGV2b3VycyB5b3UuIEdBTUUgT1ZFUiFcIik7XG4gICAgICAgIC8vIEFkZCB0aGVzZSBoYXphcmQgbWVzc2FnZXMgdG8gdGhlIGxvZ1xuICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbMl0pO1xuICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbM10pO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIEhhemFyZC5QaXQ6IHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wbGF5ZXIuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goXCJBQUFBSEhISCEgWW91IGZlbGwgaW50byBhIGJvdHRvbWxlc3MgcGl0IVwiKTtcbiAgICAgICAgbWVzc2FnZXMucHVzaChcIkdBTUUgT1ZFUiFcIik7XG4gICAgICAgIC8vIEFkZCB0aGVzZSBoYXphcmQgbWVzc2FnZXMgdG8gdGhlIGxvZ1xuICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbMl0pO1xuICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbM10pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgICAgXG4gICAgICBjYXNlIEhhemFyZC5CYXRzOiB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVJvb20gPSB0aGlzLnJhbmRvbVNlcnZpY2UuZ2V0UmFuZG9tSW50KDAsIHRoaXMuc3RhdGUucm9vbXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbSA9IHJhbmRvbVJvb207XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goXCJHaWFudCBiYXRzIHN3b29wIGRvd24gYW5kIGNhcnJ5IHlvdSBhd2F5IVwiKTtcbiAgICAgICAgbWVzc2FnZXMucHVzaChgVGhleSBkcm9wIHlvdSBpbiByb29tICR7cmFuZG9tUm9vbSArIDF9LmApO1xuICAgICAgICAvLyBBZGQgdGhlc2UgaGF6YXJkIG1lc3NhZ2VzIHRvIHRoZSBsb2dcbiAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2VzWzJdKTtcbiAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2VzWzNdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gYWRkIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgbmV3IHJvb21cbiAgICAgICAgY29uc3QgbmV3Um9vbSA9IHRoaXMuc3RhdGUucm9vbXNbcmFuZG9tUm9vbV07XG4gICAgICAgIGlmIChuZXdSb29tLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG5ld1Jvb20uZGVzY3JpcHRpb24pO1xuICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobmV3Um9vbS5kZXNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBoYXphcmQgd2FybmluZ3MgaWYgcGxheWVyIGlzIHN0aWxsIGFsaXZlXG4gICAgaWYgKCF0aGlzLnN0YXRlLmdhbWVPdmVyKSB7XG4gICAgICB0aGlzLmFkZEhhemFyZFdhcm5pbmdzKCk7XG4gICAgICAvLyBBZGQgYW55IHdhcm5pbmdzIHRvIHRoZSBtZXNzYWdlc1xuICAgICAgY29uc3Qgd2FybmluZ3MgPSB0aGlzLnN0YXRlLm1lc3NhZ2VMb2cuc2xpY2UoLTMpO1xuICAgICAgbWVzc2FnZXMucHVzaCguLi53YXJuaW5ncyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfVxuXG4gIC8vIEVudGVyIHNob290IG1vZGVcbiAgcHVibGljIGVudGVyU2hvb3RNb2RlKCk6IHN0cmluZ1tdIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5nYW1lT3Zlcikge1xuICAgICAgdGhpcy5hZGRNZXNzYWdlKFwiR2FtZSBvdmVyIVwiKTtcbiAgICAgIHJldHVybiBbXCJHYW1lIG92ZXIhXCJdO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5wbGF5ZXIuYXJyb3dzIDw9IDApIHtcbiAgICAgIHRoaXMuYWRkTWVzc2FnZShcIllvdSdyZSBvdXQgb2YgYXJyb3dzIVwiKTtcbiAgICAgIHJldHVybiBbXCJZb3UncmUgb3V0IG9mIGFycm93cyFcIl07XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuc2hvb3RNb2RlID0gdHJ1ZTtcbiAgICBjb25zdCBtZXNzYWdlID0gXCJTZWxlY3QgYSBjb25uZWN0ZWQgcm9vbSB0byBzaG9vdCB5b3VyIGFycm93IGludG8uXCI7XG4gICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIHJldHVybiBbbWVzc2FnZV07XG4gIH1cblxuICAvLyBFeGl0IHNob290IG1vZGVcbiAgcHVibGljIGV4aXRTaG9vdE1vZGUoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5zaG9vdE1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkUm9vbSA9IG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBhIHJvb20gaXMgYSB2YWxpZCB0YXJnZXQgZm9yIHNob290aW5nXG4gIHB1YmxpYyBpc1ZhbGlkU2hvb3RUYXJnZXQodGFyZ2V0Um9vbTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnNob290TW9kZSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRSb29tID0gdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yb29tc1tjdXJyZW50Um9vbV0uY29ubmVjdGlvbnMuaW5jbHVkZXModGFyZ2V0Um9vbSk7XG4gIH1cblxuICAvLyBTaG9vdCBhbiBhcnJvd1xuICBwdWJsaWMgc2hvb3RBcnJvdyh0YXJnZXRSb29tOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWRTaG9vdFRhcmdldCh0YXJnZXRSb29tKSkge1xuICAgICAgdGhpcy5leGl0U2hvb3RNb2RlKCk7XG4gICAgICB0aGlzLmFkZE1lc3NhZ2UoXCJJbnZhbGlkIHRhcmdldCFcIik7XG4gICAgICByZXR1cm4gW1wiSW52YWxpZCB0YXJnZXQhXCJdO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLnBsYXllci5hcnJvd3MtLTtcbiAgICB0aGlzLnN0YXRlLnNob290TW9kZSA9IGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IG1lc3NhZ2VzOiBzdHJpbmdbXSA9IFtgWW91IHNob290IGFuIGFycm93IGludG8gcm9vbSAke3RhcmdldFJvb20gKyAxfSFgXTtcbiAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbMF0pO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoZSBXdW1wdXMgd2FzIGhpdFxuICAgIGlmICh0YXJnZXRSb29tID09PSB0aGlzLnN0YXRlLnd1bXB1c1Jvb20pIHtcbiAgICAgIHRoaXMuc3RhdGUud2luID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3RhdGUuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgbWVzc2FnZXMucHVzaChcIllvdSBoZWFyIGEgdGVycmlibGUgaG93bCFcIik7XG4gICAgICBtZXNzYWdlcy5wdXNoKFwiWW91IGhhdmUgc2xhaW4gdGhlIFd1bXB1cyEgWU9VIFdJTiFcIik7XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGVzZSBtZXNzYWdlcyB0byB0aGUgbG9nXG4gICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbMV0pO1xuICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2VzWzJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZXMucHVzaChcIllvdXIgYXJyb3cgZGlzYXBwZWFycyBpbnRvIHRoZSBkYXJrbmVzcy4uLlwiKTtcbiAgICAgIHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlc1sxXSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHBsYXllciBpcyBvdXQgb2YgYXJyb3dzXG4gICAgICBpZiAodGhpcy5zdGF0ZS5wbGF5ZXIuYXJyb3dzIDw9IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goXCJZb3UndmUgdXNlZCB5b3VyIGxhc3QgYXJyb3chXCIpO1xuICAgICAgICBtZXNzYWdlcy5wdXNoKFwiV2l0aCBubyB3YXkgdG8gZGVmZW5kIHlvdXJzZWxmLCB5b3UgZmxlZSB0aGUgY2F2ZS4gR0FNRSBPVkVSIVwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGVzZSBtZXNzYWdlcyB0byB0aGUgbG9nXG4gICAgICAgIHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlc1syXSk7XG4gICAgICAgIHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlc1szXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAyNSUgY2hhbmNlIHRoZSBXdW1wdXMgbW92ZXMgYWZ0ZXIgYSBtaXNzZWQgc2hvdFxuICAgICAgICBpZiAodGhpcy5yYW5kb21TZXJ2aWNlLnJhbmRvbSgpIDwgMC4yNSkge1xuICAgICAgICAgIHRoaXMubW92ZVd1bXB1cygpO1xuICAgICAgICAgIG1lc3NhZ2VzLnB1c2goXCJZb3UgaGVhciBtb3ZlbWVudCBpbiB0aGUgZGFya25lc3MuLi5cIik7XG4gICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2VzWzJdKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiBXdW1wdXMgbW92ZWQgaW50byBwbGF5ZXIncyByb29tXG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUud3VtcHVzUm9vbSA9PT0gdGhpcy5zdGF0ZS5wbGF5ZXIucm9vbSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wbGF5ZXIuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaChcIlRoZSBXdW1wdXMgd2FzIHN0YXJ0bGVkIGJ5IHlvdXIgYXJyb3cgYW5kIG1vdmVkIGludG8geW91ciByb29tIVwiKTtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goXCJJdCBkZXZvdXJzIHlvdS4gR0FNRSBPVkVSIVwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHRoZXNlIG1lc3NhZ2VzIHRvIHRoZSBsb2dcbiAgICAgICAgICAgIHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlc1szXSk7XG4gICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZXNbNF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbWVzc2FnZXM7XG4gIH1cblxuICAvLyBNb3ZlIHRoZSBXdW1wdXMgdG8gYSByYW5kb20gYWRqYWNlbnQgcm9vbVxuICBwcml2YXRlIG1vdmVXdW1wdXMoKTogdm9pZCB7XG4gICAgY29uc3QgY3VycmVudFd1bXB1c1Jvb20gPSB0aGlzLnN0YXRlLnd1bXB1c1Jvb207XG4gICAgY29uc3QgcG9zc2libGVSb29tcyA9IHRoaXMuc3RhdGUucm9vbXNbY3VycmVudFd1bXB1c1Jvb21dLmNvbm5lY3Rpb25zO1xuICAgIGNvbnN0IG5ld1d1bXB1c1Jvb20gPSB0aGlzLnJhbmRvbVNlcnZpY2UuZ2V0UmFuZG9tSXRlbShwb3NzaWJsZVJvb21zKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgaGF6YXJkIGluIG9sZCBhbmQgbmV3IHJvb21cbiAgICB0aGlzLnN0YXRlLnJvb21zW2N1cnJlbnRXdW1wdXNSb29tXS5oYXphcmQgPSBIYXphcmQuTm9uZTtcbiAgICB0aGlzLnN0YXRlLnJvb21zW25ld1d1bXB1c1Jvb21dLmhhemFyZCA9IEhhemFyZC5XdW1wdXM7XG4gICAgdGhpcy5zdGF0ZS53dW1wdXNSb29tID0gbmV3V3VtcHVzUm9vbTtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSBnYW1lXG4gIHB1YmxpYyByZXNldEdhbWUoKTogdm9pZCB7XG4gICAgY29uc3Qgcm9vbXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhdmVMYXlvdXQpKSBhcyBSb29tW107XG4gICAgXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJvb21zLFxuICAgICAgcGxheWVyOiB7XG4gICAgICAgIHJvb206IDAsXG4gICAgICAgIGFycm93czogdGhpcy5JTklUSUFMX0FSUk9XUyxcbiAgICAgICAgYWxpdmU6IHRydWVcbiAgICAgIH0sXG4gICAgICB3dW1wdXNSb29tOiAtMSxcbiAgICAgIGJhdFJvb21zOiBbXSxcbiAgICAgIHBpdFJvb21zOiBbXSxcbiAgICAgIGdhbWVPdmVyOiBmYWxzZSxcbiAgICAgIHdpbjogZmFsc2UsXG4gICAgICBtZXNzYWdlTG9nOiBbXCJHYW1lIHJlc3RhcnRlZC4gR29vZCBsdWNrIVwiXSxcbiAgICAgIHNlbGVjdGVkUm9vbTogbnVsbCxcbiAgICAgIHNob290TW9kZTogZmFsc2VcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucGxhY2VIYXphcmRzKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJEZWZhdWx0UmFuZG9tU2VydmljZSIsIkhhemFyZCIsImNhdmVMYXlvdXQiLCJpZCIsIngiLCJ5IiwiY29ubmVjdGlvbnMiLCJoYXphcmQiLCJkZXNjcmlwdGlvbiIsIkdhbWVNb2RlbCIsImNvbnN0cnVjdG9yIiwicmFuZG9tU2VydmljZSIsIklOSVRJQUxfQVJST1dTIiwicm9vbXMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJzdGFydGluZ1Jvb20iLCJnZXRSYW5kb21JbnQiLCJsZW5ndGgiLCJzdGF0ZSIsInBsYXllciIsInJvb20iLCJhcnJvd3MiLCJhbGl2ZSIsInd1bXB1c1Jvb20iLCJiYXRSb29tcyIsInBpdFJvb21zIiwiZ2FtZU92ZXIiLCJ3aW4iLCJtZXNzYWdlTG9nIiwic2VsZWN0ZWRSb29tIiwic2hvb3RNb2RlIiwicGxhY2VIYXphcmRzIiwiYXZhaWxhYmxlUm9vbXMiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsInBsYXllclJvb21JbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJhZGRNZXNzYWdlIiwid3VtcHVzSW5kZXgiLCJwaXRJbmRleCIsInBpdFJvb20iLCJwdXNoIiwiYmF0SW5kZXgiLCJiYXRSb29tIiwiYWRkSGF6YXJkV2FybmluZ3MiLCJjdXJyZW50Um9vbSIsImFkamFjZW50Um9vbXMiLCJ3dW1wdXNOZWFyYnkiLCJwaXROZWFyYnkiLCJiYXRzTmVhcmJ5Iiwicm9vbUlkIiwibWVzc2FnZSIsImdldFN0YXRlIiwiaXNWYWxpZE1vdmUiLCJ0YXJnZXRSb29tIiwiaW5jbHVkZXMiLCJtb3ZlUGxheWVyIiwibWVzc2FnZXMiLCJmb3JFYWNoIiwibXNnIiwicmFuZG9tUm9vbSIsIm5ld1Jvb20iLCJ3YXJuaW5ncyIsInNsaWNlIiwiZW50ZXJTaG9vdE1vZGUiLCJleGl0U2hvb3RNb2RlIiwiaXNWYWxpZFNob290VGFyZ2V0Iiwic2hvb3RBcnJvdyIsInJhbmRvbSIsIm1vdmVXdW1wdXMiLCJjdXJyZW50V3VtcHVzUm9vbSIsInBvc3NpYmxlUm9vbXMiLCJuZXdXdW1wdXNSb29tIiwiZ2V0UmFuZG9tSXRlbSIsInJlc2V0R2FtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/model/GameModel.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/services/RandomService.ts":
/*!***************************************!*\
  !*** ./src/services/RandomService.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultRandomService: () => (/* binding */ DefaultRandomService)\n/* harmony export */ });\n/**\n * RandomService - An interface for abstracting random operations\n * This allows for deterministic testing by mocking random behavior\n */ /**\n * Interface for randomization service to enable mocking for tests\n */ /**\n * Default implementation of RandomService that uses Math.random\n */ class DefaultRandomService {\n    /**\n   * Returns a random number between 0 (inclusive) and 1 (exclusive)\n   */ random() {\n        return Math.random();\n    }\n    /**\n   * Returns a random integer between min (inclusive) and max (exclusive)\n   * @param min - The minimum value (inclusive)\n   * @param max - The maximum value (exclusive)\n   */ getRandomInt(min, max) {\n        return Math.floor(this.random() * (max - min)) + min;\n    }\n    /**\n   * Returns a random item from an array\n   * @param items - The array to select from\n   */ getRandomItem(items) {\n        return items[this.getRandomInt(0, items.length)];\n    }\n    /**\n   * Shuffles an array and returns a new shuffled array\n   * @param array - The array to shuffle\n   */ shuffle(array) {\n        const result = [\n            ...array\n        ];\n        for(let i = result.length - 1; i > 0; i--){\n            const j = this.getRandomInt(0, i + 1);\n            [result[i], result[j]] = [\n                result[j],\n                result[i]\n            ];\n        }\n        return result;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9zZXJ2aWNlcy9SYW5kb21TZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FFRDs7Q0FFQyxHQTRCRDs7Q0FFQyxHQUNNLE1BQU1BO0lBQ1g7O0dBRUMsR0FDREMsU0FBaUI7UUFDZixPQUFPQyxLQUFLRCxNQUFNO0lBQ3BCO0lBRUE7Ozs7R0FJQyxHQUNERSxhQUFhQyxHQUFXLEVBQUVDLEdBQVcsRUFBVTtRQUM3QyxPQUFPSCxLQUFLSSxLQUFLLENBQUMsSUFBSSxDQUFDTCxNQUFNLEtBQU1JLENBQUFBLE1BQU1ELEdBQUUsS0FBTUE7SUFDbkQ7SUFFQTs7O0dBR0MsR0FDREcsY0FBaUJDLEtBQVUsRUFBSztRQUM5QixPQUFPQSxLQUFLLENBQUMsSUFBSSxDQUFDTCxZQUFZLENBQUMsR0FBR0ssTUFBTUMsTUFBTSxFQUFFO0lBQ2xEO0lBRUE7OztHQUdDLEdBQ0RDLFFBQVdDLEtBQVUsRUFBTztRQUMxQixNQUFNQyxTQUFTO2VBQUlEO1NBQU07UUFDekIsSUFBSyxJQUFJRSxJQUFJRCxPQUFPSCxNQUFNLEdBQUcsR0FBR0ksSUFBSSxHQUFHQSxJQUFLO1lBQzFDLE1BQU1DLElBQUksSUFBSSxDQUFDWCxZQUFZLENBQUMsR0FBR1UsSUFBSTtZQUNuQyxDQUFDRCxNQUFNLENBQUNDLEVBQUUsRUFBRUQsTUFBTSxDQUFDRSxFQUFFLENBQUMsR0FBRztnQkFBQ0YsTUFBTSxDQUFDRSxFQUFFO2dCQUFFRixNQUFNLENBQUNDLEVBQUU7YUFBQztRQUNqRDtRQUNBLE9BQU9EO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsiRDpcXGxvY2FsUHJvamVjdHNcXHd1bXB1c1xcc3JjXFxzZXJ2aWNlc1xcUmFuZG9tU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJhbmRvbVNlcnZpY2UgLSBBbiBpbnRlcmZhY2UgZm9yIGFic3RyYWN0aW5nIHJhbmRvbSBvcGVyYXRpb25zXG4gKiBUaGlzIGFsbG93cyBmb3IgZGV0ZXJtaW5pc3RpYyB0ZXN0aW5nIGJ5IG1vY2tpbmcgcmFuZG9tIGJlaGF2aW9yXG4gKi9cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHJhbmRvbWl6YXRpb24gc2VydmljZSB0byBlbmFibGUgbW9ja2luZyBmb3IgdGVzdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSYW5kb21TZXJ2aWNlIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gMCAoaW5jbHVzaXZlKSBhbmQgMSAoZXhjbHVzaXZlKVxuICAgKiBFcXVpdmFsZW50IHRvIE1hdGgucmFuZG9tKClcbiAgICovXG4gIHJhbmRvbSgpOiBudW1iZXI7XG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIChpbmNsdXNpdmUpIGFuZCBtYXggKGV4Y2x1c2l2ZSlcbiAgICogQHBhcmFtIG1pbiAtIFRoZSBtaW5pbXVtIHZhbHVlIChpbmNsdXNpdmUpXG4gICAqIEBwYXJhbSBtYXggLSBUaGUgbWF4aW11bSB2YWx1ZSAoZXhjbHVzaXZlKVxuICAgKi9cbiAgZ2V0UmFuZG9tSW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcjtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIGl0ZW0gZnJvbSBhbiBhcnJheVxuICAgKiBAcGFyYW0gaXRlbXMgLSBUaGUgYXJyYXkgdG8gc2VsZWN0IGZyb21cbiAgICovXG4gIGdldFJhbmRvbUl0ZW08VD4oaXRlbXM6IFRbXSk6IFQ7XG4gIFxuICAvKipcbiAgICogU2h1ZmZsZXMgYW4gYXJyYXkgYW5kIHJldHVybnMgYSBuZXcgc2h1ZmZsZWQgYXJyYXlcbiAgICogQHBhcmFtIGFycmF5IC0gVGhlIGFycmF5IHRvIHNodWZmbGVcbiAgICovXG4gIHNodWZmbGU8VD4oYXJyYXk6IFRbXSk6IFRbXTtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIFJhbmRvbVNlcnZpY2UgdGhhdCB1c2VzIE1hdGgucmFuZG9tXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UmFuZG9tU2VydmljZSBpbXBsZW1lbnRzIFJhbmRvbVNlcnZpY2Uge1xuICAvKipcbiAgICogUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiAwIChpbmNsdXNpdmUpIGFuZCAxIChleGNsdXNpdmUpXG4gICAqL1xuICByYW5kb20oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpXG4gICAqIEBwYXJhbSBtaW4gLSBUaGUgbWluaW11bSB2YWx1ZSAoaW5jbHVzaXZlKVxuICAgKiBAcGFyYW0gbWF4IC0gVGhlIG1heGltdW0gdmFsdWUgKGV4Y2x1c2l2ZSlcbiAgICovXG4gIGdldFJhbmRvbUludChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIGl0ZW0gZnJvbSBhbiBhcnJheVxuICAgKiBAcGFyYW0gaXRlbXMgLSBUaGUgYXJyYXkgdG8gc2VsZWN0IGZyb21cbiAgICovXG4gIGdldFJhbmRvbUl0ZW08VD4oaXRlbXM6IFRbXSk6IFQge1xuICAgIHJldHVybiBpdGVtc1t0aGlzLmdldFJhbmRvbUludCgwLCBpdGVtcy5sZW5ndGgpXTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFNodWZmbGVzIGFuIGFycmF5IGFuZCByZXR1cm5zIGEgbmV3IHNodWZmbGVkIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIFRoZSBhcnJheSB0byBzaHVmZmxlXG4gICAqL1xuICBzaHVmZmxlPFQ+KGFycmF5OiBUW10pOiBUW10ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5hcnJheV07XG4gICAgZm9yIChsZXQgaSA9IHJlc3VsdC5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBjb25zdCBqID0gdGhpcy5nZXRSYW5kb21JbnQoMCwgaSArIDEpO1xuICAgICAgW3Jlc3VsdFtpXSwgcmVzdWx0W2pdXSA9IFtyZXN1bHRbal0sIHJlc3VsdFtpXV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJEZWZhdWx0UmFuZG9tU2VydmljZSIsInJhbmRvbSIsIk1hdGgiLCJnZXRSYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJmbG9vciIsImdldFJhbmRvbUl0ZW0iLCJpdGVtcyIsImxlbmd0aCIsInNodWZmbGUiLCJhcnJheSIsInJlc3VsdCIsImkiLCJqIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/services/RandomService.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/view/ActionPanel.tsx":
/*!**********************************!*\
  !*** ./src/view/ActionPanel.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// ActionPanel.tsx\n// View: Action buttons for movement and shooting\n\n\nconst ActionPanel = ({ canMove, canShoot, shootMode, onMove, onShoot, onRestart })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"action-panel\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onMove,\n                disabled: !canMove,\n                className: shootMode ? '' : 'active-mode',\n                children: \"Move\"\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\ActionPanel.tsx\",\n                lineNumber: 23,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onShoot,\n                disabled: !canShoot,\n                className: shootMode ? 'active-mode' : '',\n                children: \"Shoot\"\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\ActionPanel.tsx\",\n                lineNumber: 30,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onRestart,\n                children: \"Restart\"\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\ActionPanel.tsx\",\n                lineNumber: 37,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\ActionPanel.tsx\",\n        lineNumber: 22,\n        columnNumber: 3\n    }, undefined);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ActionPanel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy92aWV3L0FjdGlvblBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGtCQUFrQjtBQUNsQixpREFBaUQ7O0FBQ3ZCO0FBVzFCLE1BQU1DLGNBQTBDLENBQUMsRUFDL0NDLE9BQU8sRUFDUEMsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxTQUFTLEVBQ1YsaUJBQ0MsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFDQ0MsU0FBU047Z0JBQ1RPLFVBQVUsQ0FBQ1Y7Z0JBQ1hPLFdBQVdMLFlBQVksS0FBSzswQkFDN0I7Ozs7OzswQkFHRCw4REFBQ007Z0JBQ0NDLFNBQVNMO2dCQUNUTSxVQUFVLENBQUNUO2dCQUNYTSxXQUFXTCxZQUFZLGdCQUFnQjswQkFDeEM7Ozs7OzswQkFHRCw4REFBQ007Z0JBQU9DLFNBQVNKOzBCQUFXOzs7Ozs7Ozs7Ozs7QUFJaEMsaUVBQWVOLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxsb2NhbFByb2plY3RzXFx3dW1wdXNcXHNyY1xcdmlld1xcQWN0aW9uUGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFjdGlvblBhbmVsLnRzeFxuLy8gVmlldzogQWN0aW9uIGJ1dHRvbnMgZm9yIG1vdmVtZW50IGFuZCBzaG9vdGluZ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEFjdGlvblBhbmVsUHJvcHMge1xuICBjYW5Nb3ZlOiBib29sZWFuO1xuICBjYW5TaG9vdDogYm9vbGVhbjtcbiAgc2hvb3RNb2RlOiBib29sZWFuO1xuICBvbk1vdmU6ICgpID0+IHZvaWQ7XG4gIG9uU2hvb3Q6ICgpID0+IHZvaWQ7XG4gIG9uUmVzdGFydDogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgQWN0aW9uUGFuZWw6IFJlYWN0LkZDPEFjdGlvblBhbmVsUHJvcHM+ID0gKHsgXG4gIGNhbk1vdmUsIFxuICBjYW5TaG9vdCwgXG4gIHNob290TW9kZSwgXG4gIG9uTW92ZSwgXG4gIG9uU2hvb3QsIFxuICBvblJlc3RhcnQgXG59KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uLXBhbmVsXCI+XG4gICAgPGJ1dHRvbiBcbiAgICAgIG9uQ2xpY2s9e29uTW92ZX0gXG4gICAgICBkaXNhYmxlZD17IWNhbk1vdmV9XG4gICAgICBjbGFzc05hbWU9e3Nob290TW9kZSA/ICcnIDogJ2FjdGl2ZS1tb2RlJ31cbiAgICA+XG4gICAgICBNb3ZlXG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBcbiAgICAgIG9uQ2xpY2s9e29uU2hvb3R9IFxuICAgICAgZGlzYWJsZWQ9eyFjYW5TaG9vdH1cbiAgICAgIGNsYXNzTmFtZT17c2hvb3RNb2RlID8gJ2FjdGl2ZS1tb2RlJyA6ICcnfVxuICAgID5cbiAgICAgIFNob290XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJlc3RhcnR9PlJlc3RhcnQ8L2J1dHRvbj5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBBY3Rpb25QYW5lbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkFjdGlvblBhbmVsIiwiY2FuTW92ZSIsImNhblNob290Iiwic2hvb3RNb2RlIiwib25Nb3ZlIiwib25TaG9vdCIsIm9uUmVzdGFydCIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/view/ActionPanel.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/view/CaveMap.tsx":
/*!******************************!*\
  !*** ./src/view/CaveMap.tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// CaveMap.tsx\n// View: SVG cave map overlay for Hunt the Wumpus\n\n\nconst CaveMap = ({ rooms, playerRoom, shootMode, onRoomClick })=>{\n    // Get connected rooms to highlight for movement or shooting\n    const connectedRooms = rooms[playerRoom]?.connections || [];\n    // Determine room color based on state\n    const getRoomColor = (roomId)=>{\n        if (roomId === playerRoom) return '#ffe066'; // Player's current room\n        if (connectedRooms.includes(roomId)) {\n            return shootMode ? '#ff9999' : '#99ff99'; // Connected rooms: red for shoot, green for move\n        }\n        return '#fff'; // Default white\n    };\n    // Determine room border based on state\n    const getRoomBorder = (roomId)=>{\n        if (roomId === playerRoom) return 4; // Thicker border for player's room\n        if (connectedRooms.includes(roomId)) return 3; // Medium border for connected rooms\n        return 2; // Default border\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        width: \"500\",\n        height: \"500\",\n        style: {\n            position: 'absolute',\n            left: 0,\n            top: 0\n        },\n        children: [\n            rooms.map((room)=>room.connections.map((connId)=>{\n                    const connRoom = rooms.find((r)=>r.id === connId);\n                    if (!connRoom || connRoom.id < room.id) return null; // Avoid duplicate lines\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                        x1: room.x,\n                        y1: room.y,\n                        x2: connRoom.x,\n                        y2: connRoom.y,\n                        stroke: connectedRooms.includes(connId) && connectedRooms.includes(room.id) ? '#666' : '#bbb',\n                        strokeWidth: connectedRooms.includes(connId) && connectedRooms.includes(room.id) ? 3 : 2\n                    }, `line-${room.id}-${connRoom.id}`, false, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                        lineNumber: 42,\n                        columnNumber: 13\n                    }, undefined);\n                })),\n            rooms.map((room)=>{\n                const isClickable = connectedRooms.includes(room.id) || room.id === playerRoom;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                    onClick: isClickable ? ()=>onRoomClick(room.id) : undefined,\n                    style: {\n                        cursor: isClickable ? 'pointer' : 'default',\n                        userSelect: 'none' // Make text non-selectable\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                            cx: room.x,\n                            cy: room.y,\n                            r: 22,\n                            fill: getRoomColor(room.id),\n                            stroke: shootMode && connectedRooms.includes(room.id) ? '#c00' : '#888',\n                            strokeWidth: getRoomBorder(room.id)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                            lineNumber: 67,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                            x: room.x,\n                            y: room.y + 6,\n                            textAnchor: \"middle\",\n                            fontSize: 18,\n                            fill: \"#333\",\n                            fontWeight: room.id === playerRoom ? 'bold' : 'normal',\n                            style: {\n                                pointerEvents: 'none'\n                            },\n                            children: room.id + 1\n                        }, void 0, false, {\n                            fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                            cx: room.x,\n                            cy: room.y,\n                            r: 22,\n                            fill: \"transparent\",\n                            stroke: \"transparent\",\n                            style: {\n                                cursor: isClickable ? 'pointer' : 'default'\n                            }\n                        }, void 0, false, {\n                            fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                            lineNumber: 87,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, room.id, true, {\n                    fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 11\n                }, undefined);\n            }),\n            shootMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                x: \"250\",\n                y: \"30\",\n                textAnchor: \"middle\",\n                fill: \"#c00\",\n                fontWeight: \"bold\",\n                fontSize: 16,\n                children: \"SHOOT MODE - Select Target Room\"\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n                lineNumber: 101,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\CaveMap.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CaveMap);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsS0FBS3RCLGFBQWEsU0FBUzs0QkFDOUNZLE9BQU87Z0NBQUVrQyxlQUFlOzRCQUFPO3NDQUU5QjdCLEtBQUtLLEVBQUUsR0FBRzs7Ozs7O3NDQUdiLDhEQUFDZ0I7NEJBQ0NDLElBQUl0QixLQUFLUSxDQUFDOzRCQUNWZSxJQUFJdkIsS0FBS1UsQ0FBQzs0QkFDVk4sR0FBRzs0QkFDSG9CLE1BQUs7NEJBQ0xYLFFBQU87NEJBQ1BsQixPQUFPO2dDQUFFd0IsUUFBUUosY0FBYyxZQUFZOzRCQUFVOzs7Ozs7O21CQWxDbERmLEtBQUtLLEVBQUU7Ozs7O1lBc0NsQjtZQUdDckIsMkJBQ0MsOERBQUN5QztnQkFBS2pCLEdBQUU7Z0JBQU1FLEdBQUU7Z0JBQUtnQixZQUFXO2dCQUFTRixNQUFLO2dCQUFPSSxZQUFXO2dCQUFPRCxVQUFVOzBCQUFJOzs7Ozs7Ozs7Ozs7QUFNN0Y7QUFFQSxpRUFBZTlDLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxsb2NhbFByb2plY3RzXFx3dW1wdXNcXHNyY1xcdmlld1xcQ2F2ZU1hcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2F2ZU1hcC50c3hcbi8vIFZpZXc6IFNWRyBjYXZlIG1hcCBvdmVybGF5IGZvciBIdW50IHRoZSBXdW1wdXNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFJvb20gfSBmcm9tICcuLi9tb2RlbC9HYW1lTW9kZWwnO1xuXG5pbnRlcmZhY2UgQ2F2ZU1hcFByb3BzIHtcbiAgcm9vbXM6IFJvb21bXTtcbiAgcGxheWVyUm9vbTogbnVtYmVyO1xuICBzaG9vdE1vZGU6IGJvb2xlYW47XG4gIG9uUm9vbUNsaWNrOiAocm9vbUlkOiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmNvbnN0IENhdmVNYXA6IFJlYWN0LkZDPENhdmVNYXBQcm9wcz4gPSAoeyByb29tcywgcGxheWVyUm9vbSwgc2hvb3RNb2RlLCBvblJvb21DbGljayB9KSA9PiB7XG4gIC8vIEdldCBjb25uZWN0ZWQgcm9vbXMgdG8gaGlnaGxpZ2h0IGZvciBtb3ZlbWVudCBvciBzaG9vdGluZ1xuICBjb25zdCBjb25uZWN0ZWRSb29tcyA9IHJvb21zW3BsYXllclJvb21dPy5jb25uZWN0aW9ucyB8fCBbXTtcbiAgXG4gIC8vIERldGVybWluZSByb29tIGNvbG9yIGJhc2VkIG9uIHN0YXRlXG4gIGNvbnN0IGdldFJvb21Db2xvciA9IChyb29tSWQ6IG51bWJlcikgPT4ge1xuICAgIGlmIChyb29tSWQgPT09IHBsYXllclJvb20pIHJldHVybiAnI2ZmZTA2Nic7IC8vIFBsYXllcidzIGN1cnJlbnQgcm9vbVxuICAgIGlmIChjb25uZWN0ZWRSb29tcy5pbmNsdWRlcyhyb29tSWQpKSB7XG4gICAgICByZXR1cm4gc2hvb3RNb2RlID8gJyNmZjk5OTknIDogJyM5OWZmOTknOyAvLyBDb25uZWN0ZWQgcm9vbXM6IHJlZCBmb3Igc2hvb3QsIGdyZWVuIGZvciBtb3ZlXG4gICAgfVxuICAgIHJldHVybiAnI2ZmZic7IC8vIERlZmF1bHQgd2hpdGVcbiAgfTtcbiAgXG4gIC8vIERldGVybWluZSByb29tIGJvcmRlciBiYXNlZCBvbiBzdGF0ZVxuICBjb25zdCBnZXRSb29tQm9yZGVyID0gKHJvb21JZDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHJvb21JZCA9PT0gcGxheWVyUm9vbSkgcmV0dXJuIDQ7IC8vIFRoaWNrZXIgYm9yZGVyIGZvciBwbGF5ZXIncyByb29tXG4gICAgaWYgKGNvbm5lY3RlZFJvb21zLmluY2x1ZGVzKHJvb21JZCkpIHJldHVybiAzOyAvLyBNZWRpdW0gYm9yZGVyIGZvciBjb25uZWN0ZWQgcm9vbXNcbiAgICByZXR1cm4gMjsgLy8gRGVmYXVsdCBib3JkZXJcbiAgfTtcbiAgXG4gIHJldHVybiAoXG4gICAgPHN2ZyB3aWR0aD1cIjUwMFwiIGhlaWdodD1cIjUwMFwiIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAwLCB0b3A6IDAgfX0+XG4gICAgICB7LyogRHJhdyBjb25uZWN0aW9ucyAqL31cbiAgICAgIHtyb29tcy5tYXAocm9vbSA9PlxuICAgICAgICByb29tLmNvbm5lY3Rpb25zLm1hcChjb25uSWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbm5Sb29tID0gcm9vbXMuZmluZChyID0+IHIuaWQgPT09IGNvbm5JZCk7XG4gICAgICAgICAgaWYgKCFjb25uUm9vbSB8fCBjb25uUm9vbS5pZCA8IHJvb20uaWQpIHJldHVybiBudWxsOyAvLyBBdm9pZCBkdXBsaWNhdGUgbGluZXNcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpbmVcbiAgICAgICAgICAgICAga2V5PXtgbGluZS0ke3Jvb20uaWR9LSR7Y29ublJvb20uaWR9YH1cbiAgICAgICAgICAgICAgeDE9e3Jvb20ueH1cbiAgICAgICAgICAgICAgeTE9e3Jvb20ueX1cbiAgICAgICAgICAgICAgeDI9e2Nvbm5Sb29tLnh9XG4gICAgICAgICAgICAgIHkyPXtjb25uUm9vbS55fVxuICAgICAgICAgICAgICBzdHJva2U9e2Nvbm5lY3RlZFJvb21zLmluY2x1ZGVzKGNvbm5JZCkgJiYgY29ubmVjdGVkUm9vbXMuaW5jbHVkZXMocm9vbS5pZCkgPyAnIzY2NicgOiAnI2JiYid9XG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtjb25uZWN0ZWRSb29tcy5pbmNsdWRlcyhjb25uSWQpICYmIGNvbm5lY3RlZFJvb21zLmluY2x1ZGVzKHJvb20uaWQpID8gMyA6IDJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICApfVxuICAgICAgey8qIERyYXcgcm9vbXMgKi99XG4gICAgICB7cm9vbXMubWFwKHJvb20gPT4ge1xuICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGNvbm5lY3RlZFJvb21zLmluY2x1ZGVzKHJvb20uaWQpIHx8IHJvb20uaWQgPT09IHBsYXllclJvb207XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGcgXG4gICAgICAgICAgICBrZXk9e3Jvb20uaWR9IFxuICAgICAgICAgICAgb25DbGljaz17aXNDbGlja2FibGUgPyAoKSA9PiBvblJvb21DbGljayhyb29tLmlkKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBjdXJzb3I6IGlzQ2xpY2thYmxlID8gJ3BvaW50ZXInIDogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScgLy8gTWFrZSB0ZXh0IG5vbi1zZWxlY3RhYmxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBVc2luZyBhIHRyYW5zcGFyZW50IG92ZXJsYXkgdG8gZW5zdXJlIGNsaWNrcyB3b3JrICovfVxuICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICBjeD17cm9vbS54fVxuICAgICAgICAgICAgICBjeT17cm9vbS55fVxuICAgICAgICAgICAgICByPXsyMn1cbiAgICAgICAgICAgICAgZmlsbD17Z2V0Um9vbUNvbG9yKHJvb20uaWQpfVxuICAgICAgICAgICAgICBzdHJva2U9e3Nob290TW9kZSAmJiBjb25uZWN0ZWRSb29tcy5pbmNsdWRlcyhyb29tLmlkKSA/ICcjYzAwJyA6ICcjODg4J31cbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2dldFJvb21Cb3JkZXIocm9vbS5pZCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgeD17cm9vbS54fVxuICAgICAgICAgICAgICB5PXtyb29tLnkgKyA2fVxuICAgICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgICAgZm9udFNpemU9ezE4fVxuICAgICAgICAgICAgICBmaWxsPVwiIzMzM1wiXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ9e3Jvb20uaWQgPT09IHBsYXllclJvb20gPyAnYm9sZCcgOiAnbm9ybWFsJ31cbiAgICAgICAgICAgICAgc3R5bGU9e3sgcG9pbnRlckV2ZW50czogJ25vbmUnIH19IC8vIExldCBjbGlja3MgcGFzcyB0aHJvdWdoIHRvIHRoZSBwYXJlbnQgZyBlbGVtZW50XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtyb29tLmlkICsgMX1cbiAgICAgICAgICAgIDwvdGV4dD5cbiAgICAgICAgICAgIHsvKiBUcmFuc3BhcmVudCBjbGlja2FibGUgb3ZlcmxheSAqL31cbiAgICAgICAgICAgIDxjaXJjbGVcbiAgICAgICAgICAgICAgY3g9e3Jvb20ueH1cbiAgICAgICAgICAgICAgY3k9e3Jvb20ueX1cbiAgICAgICAgICAgICAgcj17MjJ9XG4gICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiBpc0NsaWNrYWJsZSA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2c+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICAgIFxuICAgICAgey8qIFNob290IG1vZGUgaW5kaWNhdG9yICovfVxuICAgICAge3Nob290TW9kZSAmJiAoXG4gICAgICAgIDx0ZXh0IHg9XCIyNTBcIiB5PVwiMzBcIiB0ZXh0QW5jaG9yPVwibWlkZGxlXCIgZmlsbD1cIiNjMDBcIiBmb250V2VpZ2h0PVwiYm9sZFwiIGZvbnRTaXplPXsxNn0+XG4gICAgICAgICAgU0hPT1QgTU9ERSAtIFNlbGVjdCBUYXJnZXQgUm9vbVxuICAgICAgICA8L3RleHQ+XG4gICAgICApfVxuICAgIDwvc3ZnPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F2ZU1hcDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkNhdmVNYXAiLCJyb29tcyIsInBsYXllclJvb20iLCJzaG9vdE1vZGUiLCJvblJvb21DbGljayIsImNvbm5lY3RlZFJvb21zIiwiY29ubmVjdGlvbnMiLCJnZXRSb29tQ29sb3IiLCJyb29tSWQiLCJpbmNsdWRlcyIsImdldFJvb21Cb3JkZXIiLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwibWFwIiwicm9vbSIsImNvbm5JZCIsImNvbm5Sb29tIiwiZmluZCIsInIiLCJpZCIsImxpbmUiLCJ4MSIsIngiLCJ5MSIsInkiLCJ4MiIsInkyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJpc0NsaWNrYWJsZSIsImciLCJvbkNsaWNrIiwidW5kZWZpbmVkIiwiY3Vyc29yIiwidXNlclNlbGVjdCIsImNpcmNsZSIsImN4IiwiY3kiLCJmaWxsIiwidGV4dCIsInRleHRBbmNob3IiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJwb2ludGVyRXZlbnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/view/CaveMap.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/view/MessageLog.tsx":
/*!*********************************!*\
  !*** ./src/view/MessageLog.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// MessageLog.tsx\n// View: Game message log\n\n\nconst MessageLog = ({ messages })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"message-log\",\n        children: messages.slice(-6).map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: msg\n            }, idx, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\MessageLog.tsx\",\n                lineNumber: 12,\n                columnNumber: 7\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\MessageLog.tsx\",\n        lineNumber: 10,\n        columnNumber: 3\n    }, undefined);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MessageLog);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy92aWV3L01lc3NhZ2VMb2cudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsaUJBQWlCO0FBQ2pCLHlCQUF5Qjs7QUFDQztBQU0xQixNQUFNQyxhQUF3QyxDQUFDLEVBQUVDLFFBQVEsRUFBRSxpQkFDekQsOERBQUNDO1FBQUlDLFdBQVU7a0JBQ1pGLFNBQVNHLEtBQUssQ0FBQyxDQUFDLEdBQUdDLEdBQUcsQ0FBQyxDQUFDQyxLQUFLQyxvQkFDNUIsOERBQUNMOzBCQUFlSTtlQUFOQzs7Ozs7Ozs7OztBQUtoQixpRUFBZVAsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsiRDpcXGxvY2FsUHJvamVjdHNcXHd1bXB1c1xcc3JjXFx2aWV3XFxNZXNzYWdlTG9nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNZXNzYWdlTG9nLnRzeFxuLy8gVmlldzogR2FtZSBtZXNzYWdlIGxvZ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIE1lc3NhZ2VMb2dQcm9wcyB7XG4gIG1lc3NhZ2VzOiBzdHJpbmdbXTtcbn1cblxuY29uc3QgTWVzc2FnZUxvZzogUmVhY3QuRkM8TWVzc2FnZUxvZ1Byb3BzPiA9ICh7IG1lc3NhZ2VzIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWxvZ1wiPlxuICAgIHttZXNzYWdlcy5zbGljZSgtNikubWFwKChtc2csIGlkeCkgPT4gKFxuICAgICAgPGRpdiBrZXk9e2lkeH0+e21zZ308L2Rpdj5cbiAgICApKX1cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlTG9nO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiTWVzc2FnZUxvZyIsIm1lc3NhZ2VzIiwiZGl2IiwiY2xhc3NOYW1lIiwic2xpY2UiLCJtYXAiLCJtc2ciLCJpZHgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/view/MessageLog.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/view/StatusPanel.tsx":
/*!**********************************!*\
  !*** ./src/view/StatusPanel.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// StatusPanel.tsx\n// View: Status display for arrows, room, etc.\n\n\nconst StatusPanel = ({ arrows, playerRoom, gameOver, win, shootMode })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"status-panel\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Room: \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: playerRoom + 1\n                    }, void 0, false, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                        lineNumber: 15,\n                        columnNumber: 16\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                lineNumber: 15,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Arrows left: \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: arrows\n                    }, void 0, false, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 23\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                lineNumber: 16,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Mode: \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: shootMode ? 'Shooting' : 'Moving'\n                    }, void 0, false, {\n                        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                        lineNumber: 17,\n                        columnNumber: 16\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            gameOver && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: win ? 'win-msg' : 'lose-msg',\n                children: win ? 'You have slain the Wumpus!' : 'Game Over!'\n            }, void 0, false, {\n                fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\localProjects\\\\wumpus\\\\src\\\\view\\\\StatusPanel.tsx\",\n        lineNumber: 14,\n        columnNumber: 3\n    }, undefined);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StatusPanel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy92aWV3L1N0YXR1c1BhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGtCQUFrQjtBQUNsQiw4Q0FBOEM7O0FBQ3BCO0FBVTFCLE1BQU1DLGNBQTBDLENBQUMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUUsaUJBQy9GLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7O29CQUFJO2tDQUFNLDhEQUFDRTtrQ0FBR04sYUFBYTs7Ozs7Ozs7Ozs7OzBCQUM1Qiw4REFBQ0k7O29CQUFJO2tDQUFhLDhEQUFDRTtrQ0FBR1A7Ozs7Ozs7Ozs7OzswQkFDdEIsOERBQUNLOztvQkFBSTtrQ0FBTSw4REFBQ0U7a0NBQUdILFlBQVksYUFBYTs7Ozs7Ozs7Ozs7O1lBQ3ZDRiwwQkFDQyw4REFBQ0c7Z0JBQUlDLFdBQVdILE1BQU0sWUFBWTswQkFDL0JBLE1BQU0sK0JBQStCOzs7Ozs7Ozs7Ozs7QUFNOUMsaUVBQWVKLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFxsb2NhbFByb2plY3RzXFx3dW1wdXNcXHNyY1xcdmlld1xcU3RhdHVzUGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFN0YXR1c1BhbmVsLnRzeFxuLy8gVmlldzogU3RhdHVzIGRpc3BsYXkgZm9yIGFycm93cywgcm9vbSwgZXRjLlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFN0YXR1c1BhbmVsUHJvcHMge1xuICBhcnJvd3M6IG51bWJlcjtcbiAgcGxheWVyUm9vbTogbnVtYmVyO1xuICBnYW1lT3ZlcjogYm9vbGVhbjtcbiAgd2luOiBib29sZWFuO1xuICBzaG9vdE1vZGU6IGJvb2xlYW47XG59XG5cbmNvbnN0IFN0YXR1c1BhbmVsOiBSZWFjdC5GQzxTdGF0dXNQYW5lbFByb3BzPiA9ICh7IGFycm93cywgcGxheWVyUm9vbSwgZ2FtZU92ZXIsIHdpbiwgc2hvb3RNb2RlIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXMtcGFuZWxcIj5cbiAgICA8ZGl2PlJvb206IDxiPntwbGF5ZXJSb29tICsgMX08L2I+PC9kaXY+XG4gICAgPGRpdj5BcnJvd3MgbGVmdDogPGI+e2Fycm93c308L2I+PC9kaXY+XG4gICAgPGRpdj5Nb2RlOiA8Yj57c2hvb3RNb2RlID8gJ1Nob290aW5nJyA6ICdNb3ZpbmcnfTwvYj48L2Rpdj5cbiAgICB7Z2FtZU92ZXIgJiYgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3dpbiA/ICd3aW4tbXNnJyA6ICdsb3NlLW1zZyd9PlxuICAgICAgICB7d2luID8gJ1lvdSBoYXZlIHNsYWluIHRoZSBXdW1wdXMhJyA6ICdHYW1lIE92ZXIhJ31cbiAgICAgIDwvZGl2PlxuICAgICl9XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgU3RhdHVzUGFuZWw7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTdGF0dXNQYW5lbCIsImFycm93cyIsInBsYXllclJvb20iLCJnYW1lT3ZlciIsIndpbiIsInNob290TW9kZSIsImRpdiIsImNsYXNzTmFtZSIsImIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/view/StatusPanel.tsx\n");

/***/ })

};
;